{"version":3,"file":"photoviewer.esm.js","sources":["../node_modules/_domq.js@0.4.1@domq.js/src/d-class.js","../node_modules/_domq.js@0.4.1@domq.js/src/vars.js","../node_modules/_domq.js@0.4.1@domq.js/src/utils.js","../node_modules/_domq.js@0.4.1@domq.js/src/core.js","../node_modules/_domq.js@0.4.1@domq.js/src/css.js","../node_modules/_domq.js@0.4.1@domq.js/src/classes.js","../node_modules/_domq.js@0.4.1@domq.js/src/offset.js","../node_modules/_domq.js@0.4.1@domq.js/src/attr.js","../node_modules/_domq.js@0.4.1@domq.js/src/prop.js","../node_modules/_domq.js@0.4.1@domq.js/src/val.js","../node_modules/_domq.js@0.4.1@domq.js/src/wrap.js","../node_modules/_domq.js@0.4.1@domq.js/src/traversing.js","../node_modules/_domq.js@0.4.1@domq.js/src/dimensions.js","../node_modules/_domq.js@0.4.1@domq.js/src/manipulation.js","../node_modules/_domq.js@0.4.1@domq.js/src/event.js","../node_modules/_domq.js@0.4.1@domq.js/src/animate.js","../node_modules/_domq.js@0.4.1@domq.js/src/effects.js","../node_modules/_domq.js@0.4.1@domq.js/src/index.js","../src/js/defaults.js","../src/js/utilities.js","../src/js/constants.js","../src/js/draggable.js","../src/js/movable.js","../src/js/resizable.js","../src/js/core.js"],"sourcesContent":["// Class D\r\nvar D = function (selector, context) {\r\n    return new D.fn.init(selector, context);\r\n}\r\n\r\nexport default D;","var document = window.document,\r\n  emptyArray = [],\r\n  concat = emptyArray.concat,\r\n  filter = emptyArray.filter,\r\n  slice = emptyArray.slice,\r\n  elementDisplay = {},\r\n  classCache = {},\r\n  cssNumber = {\r\n    'column-count': 1,\r\n    'columns': 1,\r\n    'font-weight': 1,\r\n    'line-height': 1,\r\n    'opacity': 1,\r\n    'z-index': 1,\r\n    'zoom': 1\r\n  },\r\n  fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\r\n  singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\r\n  tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\r\n  rootNodeRE = /^(?:body|html)$/i,\r\n  capitalRE = /([A-Z])/g,\r\n\r\n  // special attributes that should be get/set via method calls\r\n  methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\r\n\r\n  table = document.createElement('table'),\r\n  tableRow = document.createElement('tr'),\r\n  containers = {\r\n    'tr': document.createElement('tbody'),\r\n    'tbody': table,\r\n    'thead': table,\r\n    'tfoot': table,\r\n    'td': tableRow,\r\n    'th': tableRow,\r\n    '*': document.createElement('div')\r\n  },\r\n  simpleSelectorRE = /^[\\w-]*$/,\r\n  class2type = {},\r\n  toString = class2type.toString,\r\n  tempParent = document.createElement('div'),\r\n  propMap = {\r\n    'tabindex': 'tabIndex',\r\n    'readonly': 'readOnly',\r\n    'for': 'htmlFor',\r\n    'class': 'className',\r\n    'maxlength': 'maxLength',\r\n    'cellspacing': 'cellSpacing',\r\n    'cellpadding': 'cellPadding',\r\n    'rowspan': 'rowSpan',\r\n    'colspan': 'colSpan',\r\n    'usemap': 'useMap',\r\n    'frameborder': 'frameBorder',\r\n    'contenteditable': 'contentEditable'\r\n  },\r\n  isArray = Array.isArray || function (arg) {\r\n    return Object.prototype.toString.call(arg) === '[object Array]';\r\n  };\r\n\r\nexport {\r\n  document,\r\n  emptyArray,\r\n  concat,\r\n  filter,\r\n  slice,\r\n  elementDisplay,\r\n  classCache,\r\n  cssNumber,\r\n  fragmentRE,\r\n  singleTagRE,\r\n  tagExpanderRE,\r\n  rootNodeRE,\r\n  capitalRE,\r\n  methodAttributes,\r\n  containers,\r\n  simpleSelectorRE,\r\n  class2type,\r\n  toString,\r\n  tempParent,\r\n  propMap,\r\n  isArray\r\n}\r\n","import D from './d-class';\r\nimport {\r\n  filter,\r\n  slice,\r\n  document,\r\n  elementDisplay,\r\n  classCache,\r\n  cssNumber,\r\n  class2type,\r\n  toString\r\n} from './vars';\r\n\r\nfunction type(obj) {\r\n  return obj == null\r\n    ? String(obj)\r\n    : class2type[toString.call(obj)] || 'object'\r\n}\r\n\r\nfunction isFunction(value) {\r\n  return type(value) == 'function'\r\n}\r\n\r\nfunction isWindow(obj) {\r\n  return obj != null && obj == obj.window\r\n}\r\n\r\nfunction isDocument(obj) {\r\n  return obj != null && obj.nodeType == obj.DOCUMENT_NODE\r\n}\r\n\r\nfunction isObject(obj) {\r\n  return type(obj) == 'object'\r\n}\r\n\r\nfunction isPlainObject(obj) {\r\n  return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\r\n}\r\n\r\nfunction likeArray(obj) {\r\n  var length = !!obj && 'length' in obj && obj.length,\r\n    typeRes = type(obj);\r\n\r\n  return 'function' != typeRes && !isWindow(obj) && (\r\n    'array' == typeRes || length === 0 ||\r\n    (typeof length == 'number' && length > 0 && (length - 1) in obj)\r\n  )\r\n}\r\n\r\nfunction compact(array) {\r\n  return filter.call(array, function (item) {\r\n    return item != null\r\n  })\r\n}\r\n\r\nfunction flatten(array) {\r\n  return array.length > 0 ? D.fn.concat.apply([], array) : array\r\n}\r\n\r\nfunction dasherize(str) {\r\n  return str.replace(/::/g, '/')\r\n    .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\r\n    .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\r\n    .replace(/_/g, '-')\r\n    .toLowerCase()\r\n}\r\n\r\nfunction maybeAddPx(name, value) {\r\n  return (typeof value == 'number' && !cssNumber[dasherize(name)]) ? value + 'px' : value\r\n}\r\n\r\nfunction uniq(array) {\r\n  return filter.call(array, function (item, idx) {\r\n    return array.indexOf(item) == idx\r\n  })\r\n}\r\n\r\nfunction camelize(str) {\r\n  return str.replace(/-+(.)?/g, function (match, chr) {\r\n    return chr ? chr.toUpperCase() : ''\r\n  })\r\n}\r\n\r\nfunction classRE(name) {\r\n  return name in classCache ?\r\n    classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\r\n}\r\n\r\nfunction defaultDisplay(nodeName) {\r\n  var element, display\r\n  if (!elementDisplay[nodeName]) {\r\n    element = document.createElement(nodeName)\r\n    document.body.appendChild(element)\r\n    display = getComputedStyle(element, '').getPropertyValue('display')\r\n    element.parentNode.removeChild(element)\r\n    display == 'none' && (display = 'block')\r\n    elementDisplay[nodeName] = display\r\n  }\r\n  return elementDisplay[nodeName]\r\n}\r\n\r\nfunction children(element) {\r\n  return 'children' in element ?\r\n    slice.call(element.children) :\r\n    D.map(element.childNodes, function (node) {\r\n      if (node.nodeType == 1) return node\r\n    })\r\n}\r\n\r\n// 'true'  => true\r\n// 'false' => false\r\n// 'null'  => null\r\n// '42'    => 42\r\n// '42.5'  => 42.5\r\n// '08'    => '08'\r\n// JSON    => parse if valid\r\n// String  => self\r\nfunction deserializeValue(value) {\r\n  try {\r\n    return value ?\r\n      value == 'true' ||\r\n      (value == 'false' ? false :\r\n        value == 'null' ? null :\r\n          +value + '' == value ? +value :\r\n            /^[\\[\\{]/.test(value) ? JSON.parse(value) :\r\n              value) :\r\n      value\r\n  } catch (e) {\r\n    return value\r\n  }\r\n}\r\nfunction filtered(nodes, selector) {\r\n  return selector == null ? D(nodes) : D(nodes).filter(selector)\r\n}\r\n\r\nfunction funcArg(context, arg, idx, payload) {\r\n  return isFunction(arg) ? arg.call(context, idx, payload) : arg\r\n}\r\n\r\nfunction setAttribute(node, name, value) {\r\n  value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\r\n}\r\n\r\n// access className property while respecting SVGAnimatedString\r\nfunction className(node, value) {\r\n  var klass = node.className || '',\r\n    svg = klass && klass.baseVal !== undefined\r\n\r\n  if (value === undefined) return svg ? klass.baseVal : klass\r\n  svg ? (klass.baseVal = value) : (node.className = value)\r\n}\r\n\r\nexport {\r\n  type,\r\n  isFunction,\r\n  isWindow,\r\n  isDocument,\r\n  isObject,\r\n  isPlainObject,\r\n  likeArray,\r\n  compact,\r\n  flatten,\r\n  dasherize,\r\n  maybeAddPx,\r\n  uniq,\r\n  camelize,\r\n  classRE,\r\n  defaultDisplay,\r\n  deserializeValue,\r\n  children,\r\n  filtered,\r\n  funcArg,\r\n  setAttribute,\r\n  className\r\n}\r\n\r\n\r\n","import D from './d-class';\r\nimport {\r\n    emptyArray,\r\n    concat,\r\n    filter,\r\n    slice,\r\n    document,\r\n    fragmentRE,\r\n    singleTagRE,\r\n    tagExpanderRE,\r\n    rootNodeRE,\r\n    capitalRE,\r\n    methodAttributes,\r\n    containers,\r\n    simpleSelectorRE,\r\n    class2type,\r\n    tempParent,\r\n    propMap,\r\n    isArray\r\n} from './vars';\r\nimport {\r\n    type,\r\n    isFunction,\r\n    isWindow,\r\n    isDocument,\r\n    isObject,\r\n    isPlainObject,\r\n    likeArray,\r\n    compact,\r\n    flatten,\r\n    dasherize,\r\n    maybeAddPx,\r\n    uniq,\r\n    camelize,\r\n    classRE,\r\n    defaultDisplay,\r\n    deserializeValue,\r\n    children,\r\n    filtered,\r\n    funcArg,\r\n    setAttribute,\r\n    className\r\n} from './utils';\r\n\r\nD.fn = D.prototype = {\r\n    constuctor: D,\r\n    length: 0,\r\n    // Because a collection acts like an array\r\n    // copy over these useful array functions.\r\n    forEach: emptyArray.forEach,\r\n    reduce: emptyArray.reduce,\r\n    push: emptyArray.push,\r\n    sort: emptyArray.sort,\r\n    splice: emptyArray.splice,\r\n    indexOf: emptyArray.indexOf,\r\n    // D's counterpart to jQuery's `$.fn.init` and\r\n    // takes a CSS selector and an optional context (and handles various\r\n    // special cases).\r\n    init: function (selector, context) {\r\n        var dom;\r\n        // If nothing given, return an empty D collection\r\n        if (!selector) {\r\n            return this\r\n        }\r\n        // Optimize for string selectors\r\n        else if (typeof selector == 'string') {\r\n            selector = selector.trim()\r\n            // If it's a html fragment, create nodes from it\r\n            // Note: In both Chrome 21 and Firefox 15, DOM error 12\r\n            // is thrown if the fragment doesn't begin with <\r\n            if (selector[0] == '<' && fragmentRE.test(selector)) {\r\n                dom = D.fragment(selector, RegExp.$1, context);\r\n                selector = null;\r\n            }\r\n            // If there's a context, create a collection on that context first, and select\r\n            // nodes from there\r\n            else if (context !== undefined) {\r\n                return D(context).find(selector)\r\n            }\r\n            // If it's a CSS selector, use it to select nodes.\r\n            else {\r\n                dom = D.qsa(document, selector)\r\n            }\r\n        }\r\n        // If a function is given, call it when the DOM is ready\r\n        else if (isFunction(selector)) {\r\n            return D(document).ready(selector)\r\n        }\r\n        // If a D collection is given, just return it\r\n        else if (D.isD(selector)) {\r\n            return selector\r\n        }\r\n        // normalize array if an array of nodes is given\r\n        else if (isArray(selector)) {\r\n            dom = compact(selector)\r\n        }\r\n        // Wrap DOM nodes.\r\n        else if (isObject(selector)) {\r\n            dom = [selector], selector = null\r\n        }\r\n        // If there's a context, create a collection on that context first, and select\r\n        // nodes from there\r\n        else if (context !== undefined) {\r\n            return D(context).find(selector)\r\n        }\r\n        // And last but no least, if it's a CSS selector, use it to select nodes.\r\n        else {\r\n            dom = D.qsa(document, selector)\r\n        }\r\n        // create a new D collection from the nodes found\r\n        return D.makeArray(dom, selector, this);\r\n    },\r\n    // Modify the collection by adding elements to it\r\n    concat: function () {\r\n        var i, value, args = []\r\n        for (i = 0; i < arguments.length; i++) {\r\n            value = arguments[i]\r\n            args[i] = D.isD(value) ? value.toArray() : value\r\n        }\r\n        return concat.apply(D.isD(this) ? this.toArray() : this, args)\r\n    },\r\n    // `pluck` is borrowed from Prototype.js\r\n    pluck: function (property) {\r\n        return D.map(this, function (el) { return el[property] })\r\n    },\r\n    toArray: function () {\r\n        return this.get()\r\n    },\r\n    get: function (idx) {\r\n        return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\r\n    },\r\n    size: function () {\r\n        return this.length\r\n    },\r\n    each: function (callback) {\r\n        emptyArray.every.call(this, function (el, idx) {\r\n            return callback.call(el, idx, el) !== false\r\n        })\r\n        return this\r\n    },\r\n    map: function (fn) {\r\n        return D(\r\n            D.map(this, function (el, i) { return fn.call(el, i, el) })\r\n        )\r\n    },\r\n    slice: function () {\r\n        return D(slice.apply(this, arguments))\r\n    },\r\n    first: function () {\r\n        var el = this[0]\r\n        return el && !isObject(el) ? el : D(el)\r\n    },\r\n    last: function () {\r\n        var el = this[this.length - 1]\r\n        return el && !isObject(el) ? el : D(el)\r\n    },\r\n    eq: function (idx) {\r\n        return idx === -1 ? this.slice(idx) : this.slice(idx, +idx + 1)\r\n    },\r\n}\r\n\r\nD.extend = D.fn.extend = function () {\r\n    var options, name, src, copy, copyIsArray, clone,\r\n        target = arguments[0] || {},\r\n        i = 1,\r\n        length = arguments.length,\r\n        deep = false;\r\n\r\n    // Handle a deep copy situation\r\n    if (typeof target === 'boolean') {\r\n        deep = target;\r\n\r\n        // Skip the boolean and the target\r\n        target = arguments[i] || {};\r\n        i++;\r\n    }\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (typeof target !== 'object' && !isFunction(target)) {\r\n        target = {};\r\n    }\r\n    // Extend D itself if only one argument is passed\r\n    if (i === length) {\r\n        target = this;\r\n        i--;\r\n    }\r\n    for (; i < length; i++) {\r\n        // Only deal with non-null/undefined values\r\n        if ((options = arguments[i]) != null) {\r\n            // Extend the base object\r\n            for (name in options) {\r\n                src = target[name];\r\n                copy = options[name];\r\n                // Prevent never-ending loop\r\n                if (target === copy) {\r\n                    continue;\r\n                }\r\n                // Recurse if we're merging plain objects or arrays\r\n                if (deep && copy && (isPlainObject(copy) ||\r\n                    (copyIsArray = Array.isArray(copy)))) {\r\n                    if (copyIsArray) {\r\n                        copyIsArray = false;\r\n                        clone = src && Array.isArray(src) ? src : [];\r\n                    } else {\r\n                        clone = src && isPlainObject(src) ? src : {};\r\n                    }\r\n                    // Never move original objects, clone them\r\n                    target[name] = D.extend(deep, clone, copy);\r\n                    // Don't bring in undefined values\r\n                } else if (copy !== undefined) {\r\n                    target[name] = copy;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // Return the modified object\r\n    return target;\r\n}\r\n\r\nD.extend({\r\n    type: type,\r\n    isFunction: isFunction,\r\n    isWindow: isWindow,\r\n    isPlainObject: isPlainObject,\r\n    camelCase: camelize,\r\n    isArray: isArray,\r\n    isEmptyObject: function (obj) {\r\n        var name\r\n        for (name in obj) return false\r\n        return true\r\n    },\r\n    isNumeric: function (val) {\r\n        var num = Number(val),\r\n            type = typeof val\r\n        return val != null && type != 'boolean' &&\r\n            (type != 'string' || val.length) &&\r\n            !isNaN(num) && isFinite(num) || false\r\n    },\r\n    inArray: function (elem, array, i) {\r\n        return emptyArray.indexOf.call(array, elem, i)\r\n    },\r\n    trim: function (str) {\r\n        return str == null ? '' : String.prototype.trim.call(str)\r\n    },\r\n    each: function (elements, callback) {\r\n        var i, key\r\n        if (likeArray(elements)) {\r\n            for (i = 0; i < elements.length; i++)\r\n                if (callback.call(elements[i], i, elements[i]) === false) return elements\r\n        } else {\r\n            for (key in elements)\r\n                if (callback.call(elements[key], key, elements[key]) === false) return elements\r\n        }\r\n\r\n        return elements\r\n    },\r\n    map: function (elements, callback) {\r\n        var value, values = [],\r\n            i, key\r\n        if (likeArray(elements))\r\n            for (i = 0; i < elements.length; i++) {\r\n                value = callback(elements[i], i)\r\n                if (value != null) values.push(value)\r\n            }\r\n        else\r\n            for (key in elements) {\r\n                value = callback(elements[key], key)\r\n                if (value != null) values.push(value)\r\n            }\r\n        return flatten(values)\r\n    },\r\n    grep: function (elements, callback) {\r\n        return filter.call(elements, callback)\r\n    },\r\n    noop: function () { },\r\n    // Make DOM Array\r\n    makeArray: function (dom, selector, me) {\r\n        var i, len = dom ? dom.length : 0\r\n        for (i = 0; i < len; i++) me[i] = dom[i]\r\n        me.length = len\r\n        me.selector = selector || ''\r\n        return me;\r\n    },\r\n    // Html -> Node\r\n    fragment: function (html, name, properties) {\r\n        var dom, nodes, container\r\n\r\n        // A special case optimization for a single tag\r\n        if (singleTagRE.test(html)) dom = D(document.createElement(RegExp.$1))\r\n\r\n        if (!dom) {\r\n            if (html.replace) html = html.replace(tagExpanderRE, '<$1></$2>')\r\n            if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\r\n            if (!(name in containers)) name = '*'\r\n\r\n            container = containers[name]\r\n            container.innerHTML = '' + html\r\n            dom = D.each(slice.call(container.childNodes), function () {\r\n                container.removeChild(this)\r\n            });\r\n        }\r\n\r\n        if (isPlainObject(properties)) {\r\n            nodes = D(dom)\r\n            D.each(properties, function (key, value) {\r\n                if (methodAttributes.indexOf(key) > -1) nodes[key](value)\r\n                else nodes.attr(key, value)\r\n            });\r\n        }\r\n\r\n        return dom\r\n    },\r\n    // D's CSS selector\r\n    qsa: function (element, selector) {\r\n        var found,\r\n            maybeID = selector[0] == '#',\r\n            maybeClass = !maybeID && selector[0] == '.',\r\n            // Ensure that a 1 char tag name still gets checked\r\n            nameOnly = maybeID || maybeClass ? selector.slice(1) : selector,\r\n            isSimple = simpleSelectorRE.test(nameOnly)\r\n        return (\r\n            // Safari DocumentFragment doesn't have getElementById\r\n            element.getElementById && isSimple && maybeID)\r\n            ? (found = element.getElementById(nameOnly))\r\n                ? [found]\r\n                : []\r\n            : element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11\r\n                ? []\r\n                : slice.call(\r\n                    // DocumentFragment doesn't have getElementsByClassName/TagName\r\n                    isSimple && !maybeID && element.getElementsByClassName\r\n                        ? maybeClass\r\n                            // If it's simple, it could be a class\r\n                            ? element.getElementsByClassName(nameOnly)\r\n                            // Or a tag\r\n                            : element.getElementsByTagName(selector)\r\n                        // Or it's not simple, and we need to query all\r\n                        : element.querySelectorAll(selector)\r\n                )\r\n    },\r\n    isD: function (object) {\r\n        return object instanceof D\r\n    },\r\n    matches: function (element, selector) {\r\n        if (!selector || !element || element.nodeType !== 1) return false\r\n        var matchesSelector = element.matches || element.webkitMatchesSelector ||\r\n            element.mozMatchesSelector || element.oMatchesSelector ||\r\n            element.matchesSelector\r\n        if (matchesSelector) return matchesSelector.call(element, selector)\r\n        // fall back to performing a selector:\r\n        var match, parent = element.parentNode,\r\n            temp = !parent\r\n        if (temp) (parent = tempParent).appendChild(element)\r\n        match = ~D.qsa(parent, selector).indexOf(element)\r\n        temp && tempParent.removeChild(element)\r\n        return match\r\n    }\r\n});\r\n\r\nD.contains = document.documentElement.contains\r\n    ? function (parent, node) {\r\n        return parent !== node && parent.contains(node)\r\n    }\r\n    : function (parent, node) {\r\n        while (node && (node = node.parentNode))\r\n            if (node === parent) return true\r\n        return false\r\n    };\r\n\r\n// Populate the class2type map\r\nD.each('Boolean Number String Function Array Date RegExp Object Error'.split(' '), function (i, name) {\r\n    class2type['[object ' + name + ']'] = name.toLowerCase()\r\n});\r\n\r\nD.fn.init.prototype = D.fn;\r\n","import D from './d-class';\r\nimport { isArray } from './vars';\r\nimport { camelize, dasherize, maybeAddPx, type } from './utils';\r\n\r\nfunction css(property, value) {\r\n    if (arguments.length < 2) {\r\n        var element = this[0]\r\n        if (typeof property == 'string') {\r\n            if (!element) return\r\n            return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\r\n        } else if (isArray(property)) {\r\n            if (!element) return\r\n            var props = {}\r\n            var computedStyle = getComputedStyle(element, '');\r\n            D.each(property, function (_, prop) {\r\n                props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\r\n            });\r\n            return props\r\n        }\r\n    }\r\n\r\n    var css = ''\r\n    if (type(property) == 'string') {\r\n        if (!value && value !== 0) {\r\n            this.each(function () {\r\n                this.style.removeProperty(dasherize(property));\r\n            });\r\n        } else {\r\n            css = dasherize(property) + \":\" + maybeAddPx(property, value)\r\n        }\r\n    } else {\r\n        for (var key in property) {\r\n            if (!property[key] && property[key] !== 0) {\r\n                this.each(function () { this.style.removeProperty(dasherize(key)) })\r\n            } else {\r\n                css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\r\n            }\r\n        }\r\n    }\r\n\r\n    return this.each(function () { this.style.cssText += ';' + css })\r\n}\r\n\r\nexport {\r\n    css\r\n}","import D from './d-class';\r\nimport { emptyArray } from './vars';\r\nimport { className, classRE, funcArg } from './utils';\r\n\r\nfunction hasClass(name) {\r\n    if (!name) return false\r\n    return emptyArray.some.call(this, function (el) {\r\n        return this.test(className(el))\r\n    }, classRE(name))\r\n}\r\n\r\nfunction addClass(name) {\r\n    var classList = [];\r\n    if (!name) return this\r\n    return this.each(function (idx) {\r\n        if (!('className' in this)) return\r\n        classList = []\r\n        var cls = className(this),\r\n            newName = funcArg(this, name, idx, cls)\r\n        newName.split(/\\s+/g).forEach(function (klass) {\r\n            if (!D(this).hasClass(klass)) classList.push(klass)\r\n        }, this)\r\n        classList.length && className(this, cls + (cls ? ' ' : '') + classList.join(' '))\r\n    })\r\n}\r\n\r\nfunction removeClass(name) {\r\n    var classList = [];\r\n    return this.each(function (idx) {\r\n        if (!('className' in this)) return\r\n        if (name === undefined) return className(this, '')\r\n        classList = className(this)\r\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function (klass) {\r\n            classList = classList.replace(classRE(klass), ' ')\r\n        })\r\n        className(this, classList.trim())\r\n    })\r\n}\r\n\r\nfunction toggleClass(name, when) {\r\n    if (!name) return this\r\n    return this.each(function (idx) {\r\n        var $this = D(this),\r\n            names = funcArg(this, name, idx, className(this))\r\n        names.split(/\\s+/g).forEach(function (klass) {\r\n            (when === undefined ? !$this.hasClass(klass) : when)\r\n                ? $this.addClass(klass)\r\n                : $this.removeClass(klass)\r\n        })\r\n    })\r\n}\r\n\r\nexport {\r\n    hasClass,\r\n    addClass,\r\n    removeClass,\r\n    toggleClass\r\n}","import D from './d-class';\r\nimport { document, rootNodeRE } from './vars';\r\nimport { funcArg, isWindow } from './utils';\r\n\r\nfunction offset(coordinates) {\r\n    if (coordinates) return this.each(function (index) {\r\n        var $this = D(this),\r\n            coords = funcArg(this, coordinates, index, $this.offset()),\r\n            parentOffset = $this.offsetParent().offset(),\r\n            props = {\r\n                top: coords.top - parentOffset.top,\r\n                left: coords.left - parentOffset.left\r\n            }\r\n\r\n        if ($this.css('position') == 'static') props['position'] = 'relative'\r\n        $this.css(props)\r\n    })\r\n    if (!this.length) return null\r\n    if (document.documentElement !== this[0] && !D.contains(document.documentElement, this[0]))\r\n        return { top: 0, left: 0 }\r\n    var obj = this[0].getBoundingClientRect()\r\n    return {\r\n        left: obj.left + window.pageXOffset,\r\n        top: obj.top + window.pageYOffset,\r\n        width: Math.round(obj.width),\r\n        height: Math.round(obj.height)\r\n    }\r\n}\r\n\r\nfunction position() {\r\n    if (!this.length) return\r\n\r\n    var elem = this[0],\r\n        // Get *real* offsetParent\r\n        offsetParent = this.offsetParent(),\r\n        // Get correct offsets\r\n        offset = this.offset(),\r\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\r\n\r\n    // Subtract element margins\r\n    // note: when an element has margin: auto the offsetLeft and marginLeft\r\n    // are the same in Safari causing offset.left to incorrectly be 0\r\n    offset.top -= parseFloat(D(elem).css('margin-top')) || 0\r\n    offset.left -= parseFloat(D(elem).css('margin-left')) || 0\r\n\r\n    // Add offsetParent borders\r\n    parentOffset.top += parseFloat(D(offsetParent[0]).css('border-top-width')) || 0\r\n    parentOffset.left += parseFloat(D(offsetParent[0]).css('border-left-width')) || 0\r\n\r\n    // Subtract the two offsets\r\n    return {\r\n        top: offset.top - parentOffset.top,\r\n        left: offset.left - parentOffset.left\r\n    }\r\n}\r\n\r\nfunction scrollTop(value) {\r\n    if (!this.length) return\r\n    var hasScrollTop = 'scrollTop' in this[0]\r\n    if (value === undefined) return hasScrollTop\r\n        ? this[0].scrollTop\r\n        : isWindow(this[0])\r\n            ? this[0].pageYOffset\r\n            : this[0].defaultView.pageYOffset;\r\n    return this.each(hasScrollTop ?\r\n        function () { this.scrollTop = value } :\r\n        function () { this.scrollTo(this.scrollX, value) })\r\n}\r\n\r\nfunction scrollLeft(value) {\r\n    if (!this.length) return\r\n    var hasScrollLeft = 'scrollLeft' in this[0]\r\n    if (value === undefined) return hasScrollLeft\r\n        ? this[0].scrollLeft\r\n        : isWindow(this[0])\r\n            ? this[0].pageXOffset\r\n            : this[0].defaultView.pageXOffset;\r\n    return this.each(hasScrollLeft ?\r\n        function () { this.scrollLeft = value } :\r\n        function () { this.scrollTo(value, this.scrollY) })\r\n}\r\n\r\nfunction offsetParent() {\r\n    return this.map(function () {\r\n        var parent = this.offsetParent || document.body\r\n        while (parent && !rootNodeRE.test(parent.nodeName) && D(parent).css('position') == 'static')\r\n            parent = parent.offsetParent\r\n        return parent\r\n    })\r\n}\r\n\r\nexport {\r\n    offset,\r\n    position,\r\n    scrollTop,\r\n    scrollLeft,\r\n    offsetParent\r\n}","import D from './d-class';\r\nimport { funcArg, isObject, setAttribute } from './utils';\r\n\r\nfunction attr(name, value) {\r\n    var result\r\n    return (typeof name == 'string' && !(1 in arguments))\r\n        ? (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined)\r\n        : this.each(function (idx) {\r\n            if (this.nodeType !== 1) return\r\n            if (isObject(name))\r\n                for (var key in name) setAttribute(this, key, name[key])\r\n            else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\r\n        })\r\n}\r\n\r\nfunction removeAttr(name) {\r\n    return this.each(function () {\r\n        this.nodeType === 1 && name.split(' ').forEach(function (attribute) {\r\n            setAttribute(this, attribute)\r\n        }, this)\r\n    })\r\n}\r\n\r\nexport {\r\n    attr,\r\n    removeAttr\r\n}","import D from './d-class';\r\nimport { propMap } from './vars';\r\nimport { funcArg, isObject } from './utils';\r\n\r\nfunction prop(name, value) {\r\n    name = propMap[name] || name\r\n    return (typeof name == 'string' && !(1 in arguments)) ?\r\n        (this[0] && this[0][name]) :\r\n        this.each(function (idx) {\r\n            if (isObject(name))\r\n                for (var key in name) this[propMap[key] || key] = name[key]\r\n            else this[name] = funcArg(this, value, idx, this[name])\r\n        })\r\n}\r\n\r\nfunction removeProp(name) {\r\n    name = propMap[name] || name\r\n    return this.each(function () { delete this[name] })\r\n}\r\n\r\nexport {\r\n    prop,\r\n    removeProp\r\n}","import D from './d-class';\r\nimport { funcArg } from './utils';\r\n\r\nfunction val(value) {\r\n    if (0 in arguments) {\r\n        if (value == null) value = ''\r\n        return this.each(function (idx) {\r\n            this.value = funcArg(this, value, idx, this.value)\r\n        })\r\n    } else {\r\n        return this[0] && (this[0].multiple ?\r\n            D(this[0]).find('option').filter(function () { return this.selected }).pluck('value') :\r\n            this[0].value)\r\n    }\r\n}\r\n\r\nexport {\r\n    val\r\n}\r\n","import D from './d-class';\r\nimport { isFunction } from './utils';\r\n\r\n\r\nfunction wrap(structure) {\r\n    var func = isFunction(structure)\r\n    if (this[0] && !func)\r\n        var dom = D(structure).get(0),\r\n            clone = dom.parentNode || this.length > 1\r\n\r\n    return this.each(function (index) {\r\n        D(this).wrapAll(func\r\n            ? structure.call(this, index)\r\n            : clone ? dom.cloneNode(true) : dom\r\n        )\r\n    })\r\n}\r\n\r\nfunction wrapAll(structure) {\r\n    if (this[0]) {\r\n        D(this[0]).before(structure = D(structure))\r\n        var children\r\n        // drill down to the inmost element\r\n        while ((children = structure.children()).length) structure = children.first()\r\n        D(structure).append(this)\r\n    }\r\n    return this\r\n}\r\n\r\nfunction wrapInner(structure) {\r\n    var func = isFunction(structure)\r\n    return this.each(function (index) {\r\n        var self = D(this),\r\n            contents = self.contents(),\r\n            dom = func ? structure.call(this, index) : structure\r\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\r\n    });\r\n}\r\n\r\nfunction unwrap() {\r\n    this.parent().each(function () {\r\n        D(this).replaceWith(D(this).children())\r\n    })\r\n    return this\r\n}\r\n\r\nexport {\r\n    wrap,\r\n    wrapAll,\r\n    wrapInner,\r\n    unwrap\r\n}","import D from './d-class';\r\nimport { emptyArray, filter, slice } from './vars';\r\nimport { children, filtered, isDocument, isFunction, isObject, likeArray, uniq } from './utils';\r\n\r\nfunction find(selector) {\r\n    var result, $this = this\r\n    if (!selector) result = D()\r\n    else if (typeof selector == 'object')\r\n        result = D(selector).filter(function () {\r\n            var node = this\r\n            return emptyArray.some.call($this, function (parent) {\r\n                return D.contains(parent, node)\r\n            })\r\n        })\r\n    else if (this.length == 1) result = D(D.qsa(this[0], selector))\r\n    else result = this.map(function () { return D.qsa(this, selector) })\r\n    return result\r\n}\r\n\r\nfunction filter$1(selector) {\r\n    if (isFunction(selector)) return this.not(this.not(selector))\r\n    return D(filter.call(this, function (element) {\r\n        return D.matches(element, selector)\r\n    }))\r\n}\r\n\r\nfunction has(selector) {\r\n    return this.filter(function () {\r\n        return isObject(selector) ?\r\n            D.contains(this, selector) :\r\n            D(this).find(selector).size()\r\n    })\r\n}\r\n\r\nfunction not(selector) {\r\n    var nodes = []\r\n    if (isFunction(selector) && selector.call !== undefined)\r\n        this.each(function (idx) {\r\n            if (!selector.call(this, idx)) nodes.push(this)\r\n        })\r\n    else {\r\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\r\n            (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : D(selector)\r\n        this.forEach(function (el) {\r\n            if (excludes.indexOf(el) < 0) nodes.push(el)\r\n        })\r\n    }\r\n    return D(nodes)\r\n}\r\n\r\nfunction is(selector) {\r\n    return typeof selector == 'string'\r\n        ? this.length > 0 && D.matches(this[0], selector)\r\n        : selector && this.selector == selector.selector\r\n}\r\n\r\nfunction add(selector, context) {\r\n    return D(uniq(this.concat(D(selector, context))))\r\n}\r\n\r\nfunction contents() {\r\n    return this.map(function () { return this.contentDocument || slice.call(this.childNodes) })\r\n}\r\n\r\nfunction closest(selector, context) {\r\n    var nodes = [],\r\n        collection = typeof selector == 'object' && D(selector)\r\n    this.each(function (_, node) {\r\n        while (node && !(collection ? collection.indexOf(node) >= 0 : D.matches(node, selector)))\r\n            node = node !== context && !isDocument(node) && node.parentNode\r\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\r\n    })\r\n    return D(nodes)\r\n}\r\n\r\nfunction parents(selector) {\r\n    var ancestors = [],\r\n        nodes = this\r\n    while (nodes.length > 0)\r\n        nodes = D.map(nodes, function (node) {\r\n            if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\r\n                ancestors.push(node)\r\n                return node\r\n            }\r\n        })\r\n    return filtered(ancestors, selector)\r\n}\r\n\r\nfunction parent(selector) {\r\n    return filtered(uniq(this.pluck('parentNode')), selector)\r\n}\r\n\r\nfunction children$1(selector) {\r\n    return filtered(this.map(function () { return children(this) }), selector)\r\n}\r\n\r\nfunction siblings(selector) {\r\n    return filtered(this.map(function (i, el) {\r\n        return filter.call(children(el.parentNode), function (child) { return child !== el })\r\n    }), selector)\r\n}\r\n\r\nfunction prev(selector) {\r\n    return D(this.pluck('previousElementSibling')).filter(selector || '*')\r\n}\r\n\r\nfunction next(selector) {\r\n    return D(this.pluck('nextElementSibling')).filter(selector || '*')\r\n}\r\n\r\nfunction index(element) {\r\n    return element ? this.indexOf(D(element)[0]) : this.parent().children().indexOf(this[0])\r\n}\r\n\r\nexport {\r\n    find,\r\n    filter$1 as filter,\r\n    has,\r\n    not,\r\n    is,\r\n    add,\r\n    contents,\r\n    closest,\r\n    parents,\r\n    parent,\r\n    children$1 as children,\r\n    siblings,\r\n    prev,\r\n    next,\r\n    index\r\n}","import D from './d-class';\r\nimport { funcArg, isDocument, isWindow } from './utils';\r\n\r\nfunction subtract(el, dimen) {\r\n    return el.css('box-sizing') === 'border-box'\r\n        ? dimen === 'width'\r\n            ? (parseFloat(el.css(dimen))\r\n                - parseFloat(el.css('padding-left'))\r\n                - parseFloat(el.css('padding-right'))\r\n                - parseFloat(el.css('border-left'))\r\n                - parseFloat(el.css('border-right')))\r\n            : (parseFloat(el.css(dimen))\r\n                - parseFloat(el.css('padding-top'))\r\n                - parseFloat(el.css('padding-bottom'))\r\n                - parseFloat(el.css('border-top'))\r\n                - parseFloat(el.css('border-bottom')))\r\n        : parseFloat(el.css(dimen))\r\n};\r\n\r\n['width', 'height'].forEach(function (dimension) {\r\n    var dimensionProperty =\r\n        dimension.replace(/./, function (m) { return m[0].toUpperCase() });\r\n\r\n    D.fn[dimension] = function (value) {\r\n        var el = this[0]\r\n        if (value === undefined) return isWindow(el)\r\n            ? el['inner' + dimensionProperty]\r\n            : isDocument(el)\r\n                ? el.documentElement['scroll' + dimensionProperty]\r\n                : subtract(this, dimension)\r\n        else return this.each(function (idx) {\r\n            el = D(this)\r\n            el.css(dimension, funcArg(this, value, idx, el[dimension]()))\r\n        });\r\n    }\r\n});","import D from './d-class';\r\nimport { document } from './vars';\r\nimport { funcArg, type } from './utils';\r\n\r\nvar traverseNode = function (node, fn) {\r\n    fn(node)\r\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\r\n        traverseNode(node.childNodes[i], fn)\r\n}\r\n\r\n// inside => append, prepend\r\nvar domMani = function (elem, args, fn, inside) {\r\n    // arguments can be nodes, arrays of nodes, D objects and HTML strings\r\n    var argType,\r\n        nodes = D.map(args, function (arg) {\r\n            var arr = []\r\n            argType = type(arg)\r\n            if (argType == 'array') {\r\n                arg.forEach(function (el) {\r\n                    if (el.nodeType !== undefined) return arr.push(el)\r\n                    else if (D.isD(el)) return arr = arr.concat(el.get())\r\n                    arr = arr.concat(D.fragment(el))\r\n                })\r\n                return arr\r\n            }\r\n            return argType == 'object' || arg == null ? arg : D.fragment(arg)\r\n        }),\r\n        copyByClone = elem.length > 1;\r\n\r\n    if (nodes.length < 1) return elem\r\n\r\n    return elem.each(function (_, target) {\r\n        parent = inside ? target : target.parentNode;\r\n        var parentInDocument = D.contains(document.documentElement, parent);\r\n\r\n        nodes.forEach(function (node) {\r\n            if (copyByClone) node = node.cloneNode(true)\r\n            else if (!parent) return D(node).remove()\r\n\r\n            fn.call(target, node);\r\n\r\n            if (parentInDocument) {\r\n                traverseNode(node, function (el) {\r\n                    if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\r\n                        (!el.type || el.type === 'text/javascript') && !el.src) {\r\n                        var target = el.ownerDocument ? el.ownerDocument.defaultView : window\r\n                        target['eval'].call(target, el.innerHTML)\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nD.fn.extend({\r\n    remove: function () {\r\n        return this.each(function () {\r\n            if (this.parentNode != null)\r\n                this.parentNode.removeChild(this)\r\n        })\r\n    },\r\n    empty: function () {\r\n        return this.each(function () { this.innerHTML = '' })\r\n    },\r\n    clone: function () {\r\n        return this.map(function () { return this.cloneNode(true) })\r\n    },\r\n    html: function (html) {\r\n        return 0 in arguments\r\n            ? this.each(function (idx) {\r\n                var originHtml = this.innerHTML\r\n                D(this).empty().append(funcArg(this, html, idx, originHtml))\r\n            })\r\n            : (0 in this ? this[0].innerHTML : null)\r\n    },\r\n    text: function (text) {\r\n        return 0 in arguments\r\n            ? this.each(function (idx) {\r\n                var newText = funcArg(this, text, idx, this.textContent)\r\n                this.textContent = newText == null ? '' : '' + newText\r\n            })\r\n            : (0 in this ? this.pluck('textContent').join('') : null)\r\n    },\r\n    replaceWith: function (newContent) {\r\n        return this.before(newContent).remove()\r\n    },\r\n    append: function () {\r\n        return domMani(this, arguments, function (elem) {\r\n            this.insertBefore(elem, null);\r\n        }, true);\r\n    },\r\n    prepend: function () {\r\n        return domMani(this, arguments, function (elem) {\r\n            this.insertBefore(elem, this.firstChild);\r\n        }, true);\r\n    },\r\n    after: function () {\r\n        return domMani(this, arguments, function (elem) {\r\n            this.parentNode.insertBefore(elem, this.nextSibling);\r\n        }, false);\r\n    },\r\n    before: function () {\r\n        return domMani(this, arguments, function (elem) {\r\n            this.parentNode.insertBefore(elem, this);\r\n        }, false);\r\n    }\r\n});\r\n\r\nD.each({\r\n    appendTo: 'append',\r\n    prependTo: 'prepend',\r\n    insertBefore: 'before',\r\n    insertAfter: 'after',\r\n    replaceAll: 'replaceWith'\r\n}, function (name, original) {\r\n    D.fn[name] = function (html) {\r\n        D(html)[original](this);\r\n        return this;\r\n    }\r\n});","import D from './d-class';\r\nimport { document, slice } from './vars';\r\nimport { isFunction } from './utils';\r\n\r\nvar _zid = 1,\r\n  handlers = {},\r\n  specialEvents = {\r\n    click: 'MouseEvents',\r\n    mousedown: 'MouseEvents',\r\n    mouseup: 'MouseEvents',\r\n    mousemove: 'MouseEvents',\r\n  },\r\n  focusinSupported = 'onfocusin' in window,\r\n  focus = { focus: 'focusin', blur: 'focusout' },\r\n  hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' },\r\n  ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\r\n  eventMethods = {\r\n    preventDefault: 'isDefaultPrevented',\r\n    stopImmediatePropagation: 'isImmediatePropagationStopped',\r\n    stopPropagation: 'isPropagationStopped'\r\n  };\r\n\r\nfunction isString(obj) {\r\n  return typeof obj == 'string'\r\n}\r\nfunction returnTrue() {\r\n  return true\r\n}\r\nfunction returnFalse() {\r\n  return false\r\n}\r\nfunction zid(element) {\r\n  return element._zid || (element._zid = _zid++)\r\n}\r\nfunction findHandlers(element, event, fn, selector) {\r\n  event = parse(event)\r\n  if (event.ns) var matcher = matcherFor(event.ns)\r\n  return (handlers[zid(element)] || []).filter(function (handler) {\r\n    return handler\r\n      && (!event.e || handler.e == event.e)\r\n      && (!event.ns || matcher.test(handler.ns))\r\n      && (!fn || zid(handler.fn) === zid(fn))\r\n      && (!selector || handler.sel == selector)\r\n  })\r\n}\r\nfunction parse(event) {\r\n  var parts = ('' + event).split('.')\r\n  return { e: parts[0], ns: parts.slice(1).sort().join(' ') }\r\n}\r\nfunction matcherFor(ns) {\r\n  return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\r\n}\r\n\r\nfunction eventCapture(handler, captureSetting) {\r\n  return handler.del &&\r\n    (!focusinSupported && (handler.e in focus)) ||\r\n    !!captureSetting\r\n}\r\n\r\nfunction realEvent(type) {\r\n  return hover[type] || (focusinSupported && focus[type]) || type\r\n}\r\n\r\nfunction add(element, events, fn, data, selector, delegator, capture) {\r\n  var id = zid(element), set = (handlers[id] || (handlers[id] = []))\r\n  events.split(/\\s/).forEach(function (event) {\r\n    if (event == 'ready') return D(document).ready(fn)\r\n    var handler = parse(event)\r\n    handler.fn = fn\r\n    handler.sel = selector\r\n    // emulate mouseenter, mouseleave\r\n    if (handler.e in hover) fn = function (e) {\r\n      var related = e.relatedTarget\r\n      if (!related || (related !== this && !D.contains(this, related)))\r\n        return handler.fn.apply(this, arguments)\r\n    }\r\n    handler.del = delegator\r\n    var callback = delegator || fn\r\n    handler.proxy = function (e) {\r\n      e = compatible(e)\r\n      if (e.isImmediatePropagationStopped()) return\r\n      e.data = data\r\n      var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\r\n      if (result === false) e.preventDefault(), e.stopPropagation()\r\n      return result\r\n    }\r\n    handler.i = set.length\r\n    set.push(handler)\r\n    if ('addEventListener' in element)\r\n      element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\r\n  })\r\n}\r\nfunction remove(element, events, fn, selector, capture) {\r\n  var id = zid(element)\r\n    ; (events || '').split(/\\s/).forEach(function (event) {\r\n      findHandlers(element, event, fn, selector).forEach(function (handler) {\r\n        delete handlers[id][handler.i]\r\n        if ('removeEventListener' in element)\r\n          element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\r\n      })\r\n    })\r\n}\r\n\r\nfunction compatible(event, source) {\r\n  if (source || !event.isDefaultPrevented) {\r\n    source || (source = event)\r\n\r\n    D.each(eventMethods, function (name, predicate) {\r\n      var sourceMethod = source[name]\r\n      event[name] = function () {\r\n        this[predicate] = returnTrue\r\n        return sourceMethod && sourceMethod.apply(source, arguments)\r\n      }\r\n      event[predicate] = returnFalse\r\n    })\r\n\r\n    try {\r\n      event.timeStamp || (event.timeStamp = Date.now())\r\n    } catch (ignored) { }\r\n\r\n    if (source.defaultPrevented !== undefined ? source.defaultPrevented :\r\n      'returnValue' in source ? source.returnValue === false :\r\n        source.getPreventDefault && source.getPreventDefault())\r\n      event.isDefaultPrevented = returnTrue\r\n  }\r\n  return event\r\n}\r\n\r\nfunction createProxy(event) {\r\n  var key, proxy = { originalEvent: event }\r\n  for (key in event)\r\n    if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\r\n\r\n  return compatible(proxy, event)\r\n}\r\n\r\nD.event = { add: add, remove: remove }\r\n\r\nD.Event = function (type, props) {\r\n  if (!isString(type)) props = type, type = props.type\r\n  var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\r\n  if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\r\n  event.initEvent(type, bubbles, true)\r\n  return compatible(event)\r\n}\r\n\r\nD.proxy = function (fn, context) {\r\n  var args = (2 in arguments) && slice.call(arguments, 2)\r\n  if (isFunction(fn)) {\r\n    var proxyFn = function () { return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\r\n    proxyFn._zid = zid(fn)\r\n    return proxyFn\r\n  } else if (isString(context)) {\r\n    if (args) {\r\n      args.unshift(fn[context], fn)\r\n      return D.proxy.apply(null, args)\r\n    } else {\r\n      return D.proxy(fn[context], fn)\r\n    }\r\n  } else {\r\n    throw new TypeError('expected function')\r\n  }\r\n}\r\n\r\nD.fn.one = function (event, selector, data, callback) {\r\n  return this.on(event, selector, data, callback, 1)\r\n}\r\n\r\nD.fn.on = function (event, selector, data, callback, one) {\r\n  var autoRemove, delegator, $this = this\r\n  if (event && !isString(event)) {\r\n    D.each(event, function (type, fn) {\r\n      $this.on(type, selector, data, fn, one)\r\n    })\r\n    return $this\r\n  }\r\n\r\n  if (!isString(selector) && !isFunction(callback) && callback !== false)\r\n    callback = data, data = selector, selector = undefined\r\n  if (callback === undefined || data === false)\r\n    callback = data, data = undefined\r\n\r\n  if (callback === false) callback = returnFalse\r\n\r\n  return $this.each(function (_, element) {\r\n    if (one) autoRemove = function (e) {\r\n      remove(element, e.type, callback)\r\n      return callback.apply(this, arguments)\r\n    }\r\n\r\n    if (selector) delegator = function (e) {\r\n      var evt, match = D(e.target).closest(selector, element).get(0)\r\n      if (match && match !== element) {\r\n        evt = D.extend(createProxy(e), { currentTarget: match, liveFired: element })\r\n        return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\r\n      }\r\n    }\r\n\r\n    add(element, event, callback, data, selector, delegator || autoRemove)\r\n  })\r\n}\r\n\r\nD.fn.off = function (event, selector, callback) {\r\n  var $this = this\r\n  if (event && !isString(event)) {\r\n    D.each(event, function (type, fn) {\r\n      $this.off(type, selector, fn)\r\n    })\r\n    return $this\r\n  }\r\n\r\n  if (!isString(selector) && !isFunction(callback) && callback !== false)\r\n    callback = selector, selector = undefined\r\n\r\n  if (callback === false) callback = returnFalse\r\n\r\n  return $this.each(function () {\r\n    remove(this, event, callback, selector)\r\n  })\r\n}\r\n\r\nD.fn.trigger = function (event, args) {\r\n  event = (isString(event) || D.isPlainObject(event)) ? D.Event(event) : compatible(event)\r\n  event._args = args\r\n  return this.each(function () {\r\n    // handle focus(), blur() by calling them directly\r\n    if (event.type in focus && typeof this[event.type] == 'function') this[event.type]()\r\n    // items in the collection might not be DOM elements\r\n    else if ('dispatchEvent' in this) this.dispatchEvent(event)\r\n    else D(this).triggerHandler(event, args)\r\n  })\r\n}\r\n\r\n// triggers event handlers on current element just as if an event occurred,\r\n// doesn't trigger an actual event, doesn't bubble\r\nD.fn.triggerHandler = function (event, args) {\r\n  var e, result\r\n  this.each(function (i, element) {\r\n    e = createProxy(isString(event) ? D.Event(event) : event)\r\n    e._args = args\r\n    e.target = element\r\n    D.each(findHandlers(element, event.type || event), function (i, handler) {\r\n      result = handler.proxy(e)\r\n      if (e.isImmediatePropagationStopped()) return false\r\n    })\r\n  })\r\n  return result\r\n}\r\n\r\n  // shortcut methods for `.on(event, fn)` for each event type\r\n  ; ('focusin focusout focus blur load resize scroll unload click dblclick ' +\r\n    'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave ' +\r\n    'change select keydown keypress keyup error').split(' ').forEach(function (event) {\r\n      D.fn[event] = function (callback) {\r\n        return (0 in arguments)\r\n          ? this.on(event, callback)\r\n          : this.trigger(event)\r\n      }\r\n    })\r\n","import D from './d-class';\r\nimport { document } from './vars';\r\n\r\nvar prefix = '', eventPrefix,\r\n  vendors = { Webkit: 'webkit', Moz: '', O: 'o' },\r\n  testEl = document.createElement('div'),\r\n  supportedTransforms = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,\r\n  transform,\r\n  transitionProperty, transitionDuration, transitionTiming, transitionDelay,\r\n  animationName, animationDuration, animationTiming, animationDelay,\r\n  cssReset = {}\r\n\r\nfunction dasherize(str) { return str.replace(/([A-Z])/g, '-$1').toLowerCase() }\r\nfunction normalizeEvent(name) { return eventPrefix ? eventPrefix + name : name.toLowerCase() }\r\n\r\nif (testEl.style.transform === undefined) D.each(vendors, function (vendor, event) {\r\n  if (testEl.style[vendor + 'TransitionProperty'] !== undefined) {\r\n    prefix = '-' + vendor.toLowerCase() + '-'\r\n    eventPrefix = event\r\n    return false\r\n  }\r\n})\r\n\r\ntransform = prefix + 'transform'\r\ncssReset[transitionProperty = prefix + 'transition-property'] =\r\n  cssReset[transitionDuration = prefix + 'transition-duration'] =\r\n  cssReset[transitionDelay = prefix + 'transition-delay'] =\r\n  cssReset[transitionTiming = prefix + 'transition-timing-function'] =\r\n  cssReset[animationName = prefix + 'animation-name'] =\r\n  cssReset[animationDuration = prefix + 'animation-duration'] =\r\n  cssReset[animationDelay = prefix + 'animation-delay'] =\r\n  cssReset[animationTiming = prefix + 'animation-timing-function'] = ''\r\n\r\nD.fx = {\r\n  off: (eventPrefix === undefined && testEl.style.transitionProperty === undefined),\r\n  speeds: { _default: 400, fast: 200, slow: 600 },\r\n  cssPrefix: prefix,\r\n  transitionEnd: normalizeEvent('TransitionEnd'),\r\n  animationEnd: normalizeEvent('AnimationEnd')\r\n}\r\n\r\nD.fn.animate = function (properties, duration, ease, callback, delay) {\r\n  if (D.isFunction(duration))\r\n    callback = duration, ease = undefined, duration = undefined\r\n  if (D.isFunction(ease))\r\n    callback = ease, ease = undefined\r\n  if (D.isPlainObject(duration))\r\n    ease = duration.easing, callback = duration.complete, delay = duration.delay, duration = duration.duration\r\n  if (duration) duration = (typeof duration == 'number' ? duration :\r\n    (D.fx.speeds[duration] || D.fx.speeds._default)) / 1000\r\n  if (delay) delay = parseFloat(delay) / 1000\r\n  return this.anim(properties, duration, ease, callback, delay)\r\n}\r\n\r\nD.fn.anim = function (properties, duration, ease, callback, delay) {\r\n  var key, cssValues = {}, cssProperties, transforms = '',\r\n    that = this, wrappedCallback, endEvent = D.fx.transitionEnd,\r\n    fired = false\r\n\r\n  if (duration === undefined) duration = D.fx.speeds._default / 1000\r\n  if (delay === undefined) delay = 0\r\n  if (D.fx.off) duration = 0\r\n\r\n  if (typeof properties == 'string') {\r\n    // keyframe animation\r\n    cssValues[animationName] = properties\r\n    cssValues[animationDuration] = duration + 's'\r\n    cssValues[animationDelay] = delay + 's'\r\n    cssValues[animationTiming] = (ease || 'linear')\r\n    endEvent = D.fx.animationEnd\r\n  } else {\r\n    cssProperties = []\r\n    // CSS transitions\r\n    for (key in properties)\r\n      if (supportedTransforms.test(key)) transforms += key + '(' + properties[key] + ') '\r\n      else cssValues[key] = properties[key], cssProperties.push(dasherize(key))\r\n\r\n    if (transforms) cssValues[transform] = transforms, cssProperties.push(transform)\r\n    if (duration > 0 && typeof properties === 'object') {\r\n      cssValues[transitionProperty] = cssProperties.join(', ')\r\n      cssValues[transitionDuration] = duration + 's'\r\n      cssValues[transitionDelay] = delay + 's'\r\n      cssValues[transitionTiming] = (ease || 'linear')\r\n    }\r\n  }\r\n\r\n  wrappedCallback = function (event) {\r\n    if (typeof event !== 'undefined') {\r\n      if (event.target !== event.currentTarget) return // makes sure the event didn't bubble from \"below\"\r\n      D(event.target).off(endEvent, wrappedCallback)\r\n    } else\r\n      D(this).off(endEvent, wrappedCallback) // triggered by setTimeout\r\n\r\n    fired = true\r\n    D(this).css(cssReset)\r\n    callback && callback.call(this)\r\n  }\r\n  if (duration > 0) {\r\n    this.on(endEvent, wrappedCallback)\r\n    // transitionEnd is not always firing on older Android phones\r\n    // so make sure it gets fired\r\n    setTimeout(function () {\r\n      if (fired) return\r\n      wrappedCallback.call(that)\r\n    }, ((duration + delay) * 1000) + 25)\r\n  }\r\n\r\n  // trigger page reflow so new elements can animate\r\n  this.size() && this.get(0).clientLeft\r\n\r\n  this.css(cssValues)\r\n\r\n  if (duration <= 0) setTimeout(function () {\r\n    that.each(function () { wrappedCallback.call(this) })\r\n  }, 0)\r\n\r\n  return this\r\n}\r\n\r\ntestEl = null","import D from './d-class';\r\n\r\nD.fn.extend({\r\n  show: function () {\r\n    return this.each(function () {\r\n      this.style.display == \"none\" && (this.style.display = '')\r\n      if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\r\n        this.style.display = defaultDisplay(this.nodeName)\r\n    })\r\n  },\r\n  hide: function () {\r\n    return this.css(\"display\", \"none\")\r\n  }\r\n});\r\n\r\nvar origShow = D.fn.show, origHide = D.fn.hide, origToggle = D.fn.toggle\r\n\r\nfunction anim(el, speed, opacity, scale, callback) {\r\n  if (typeof speed == 'function' && !callback) callback = speed, speed = undefined\r\n  var props = { opacity: opacity }\r\n  if (scale) {\r\n    props.scale = scale\r\n    el.css(D.fx.cssPrefix + 'transform-origin', '0 0')\r\n  }\r\n  return el.animate(props, speed, null, callback)\r\n}\r\n\r\nfunction hide(el, speed, scale, callback) {\r\n  return anim(el, speed, 0, scale, function () {\r\n    origHide.call(D(this))\r\n    callback && callback.call(this)\r\n  })\r\n}\r\n\r\nD.fn.show = function (speed, callback) {\r\n  origShow.call(this)\r\n  if (speed === undefined) speed = 0\r\n  else this.css('opacity', 0)\r\n  return anim(this, speed, 1, '1,1', callback)\r\n}\r\n\r\nD.fn.hide = function (speed, callback) {\r\n  if (speed === undefined) return origHide.call(this)\r\n  else return hide(this, speed, '0,0', callback)\r\n}\r\n\r\nD.fn.toggle = function (speed, callback) {\r\n  if (speed === undefined || typeof speed == 'boolean')\r\n    return origToggle.call(this, speed)\r\n  else return this.each(function () {\r\n    var el = D(this)\r\n    el[el.css('display') == 'none' ? 'show' : 'hide'](speed, callback)\r\n  })\r\n}\r\n\r\nD.fn.fadeTo = function (speed, opacity, callback) {\r\n  return anim(this, speed, opacity, null, callback)\r\n}\r\n\r\nD.fn.fadeIn = function (speed, callback) {\r\n  var target = this.css('opacity')\r\n  if (target > 0) this.css('opacity', 0)\r\n  else target = 1\r\n  return origShow.call(this).fadeTo(speed, target, callback)\r\n}\r\n\r\nD.fn.fadeOut = function (speed, callback) {\r\n  return hide(this, speed, null, callback)\r\n}\r\n\r\nD.fn.fadeToggle = function (speed, callback) {\r\n  return this.each(function () {\r\n    var el = D(this)\r\n    el[\r\n      (el.css('opacity') == 0 || el.css('display') == 'none') ? 'fadeIn' : 'fadeOut'\r\n    ](speed, callback)\r\n  })\r\n}\r\n","import D from './d-class';\r\nimport './core';\r\nimport * as css from './css';\r\nimport * as classes from './classes';\r\nimport * as offset from './offset';\r\nimport * as attr from './attr';\r\nimport * as prop from './prop';\r\nimport * as val from './val';\r\nimport * as wrap from './wrap';\r\nimport * as traversing from './traversing';\r\nimport './dimensions';\r\nimport './manipulation';\r\nimport './event';\r\nimport './animate';\r\nimport './effects';\r\n\r\nD.extend(D.fn, css, classes, offset, attr, prop, val, wrap, traversing);\r\n\r\nwindow.D = D;\r\n\r\nexport { D };","import { D as $ } from 'domq.js/src';\r\nexport default {\r\n\r\n  // Enable modal to drag\r\n  draggable: true,\r\n\r\n  // Enable modal to resize\r\n  resizable: true,\r\n\r\n  // Enable image to move\r\n  movable: true,\r\n\r\n  // Enable keyboard navigation\r\n  keyboard: true,\r\n\r\n  // Shows the title\r\n  title: true,\r\n\r\n  // Min width of modal\r\n  modalWidth: 320,\r\n\r\n  // Min height of modal\r\n  modalHeight: 320,\r\n\r\n  // Enable the page content fixed\r\n  fixedContent: true,\r\n\r\n  // Disable the modal size fixed\r\n  fixedModalSize: false,\r\n\r\n  // Disable the image viewer maximized on init\r\n  initMaximized: false,\r\n\r\n  // Threshold of modal to browser window\r\n  gapThreshold: 0.02,\r\n\r\n  // Threshold of image ratio\r\n  ratioThreshold: 0.1,\r\n\r\n  // Min ratio of image when zoom out\r\n  minRatio: 0.05,\r\n\r\n  // Max ratio of image when zoom in\r\n  maxRatio: 16,\r\n\r\n  // Toolbar options in header\r\n  headToolbar: [\r\n    'maximize',\r\n    'close'\r\n  ],\r\n\r\n  // Toolbar options in footer\r\n  footToolbar: [\r\n    'zoomIn',\r\n    'zoomOut',\r\n    'prev',\r\n    'fullscreen',\r\n    'next',\r\n    'actualSize',\r\n    'rotateRight'\r\n  ],\r\n\r\n  // Customize button icon\r\n  icons: {\r\n    minimize: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n               <path fill=\"currentColor\" d=\"M20,14H4V10H20\"></path>\r\n               </svg>`,\r\n    maximize: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n               <path fill=\"currentColor\" d=\"M4,4H20V20H4V4M6,8V18H18V8H6Z\"></path>\r\n               </svg>`,\r\n    close: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n            <path fill=\"currentColor\" d=\"M13.46,12L19,17.54V19H17.54L12,13.46\r\n            L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46\r\n            L13.46,12Z\"></path>\r\n            </svg>`,\r\n    zoomIn: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n             <path fill=\"currentColor\" d=\"M15.5,14L20.5,19L19,20.5L14,15.5V14.71\r\n             L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,\r\n             6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,\r\n             13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,\r\n             7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z\"></path>\r\n            </svg>`,\r\n    zoomOut: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n              <path fill=\"currentColor\" d=\"M15.5,14H14.71L14.43,13.73C15.41,\r\n              12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,\r\n              6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5\r\n              L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,\r\n              5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\"></path>\r\n              </svg>`,\r\n    prev: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n           <path fill=\"currentColor\" d=\"M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z\"></path>\r\n           </svg>`,\r\n    next: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n           <path fill=\"currentColor\" d=\"M16,18H18V6H16M6,18L14.5,12L6,6V18Z\"></path>\r\n           </svg>`,\r\n    fullscreen: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n                 <path fill=\"currentColor\" d=\"M8.5,12.5L11,15.5L14.5,11L19,17H5\r\n                 M23,18V6A2,2 0 0,0 21,4H3A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,\r\n                 2 0 0,0 23,18Z\"></path>\r\n                 </svg>`,\r\n    actualSize: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n                 <path fill=\"currentColor\" d=\"M9.5,13.09L10.91,14.5L6.41,19H10V21\r\n                 H3V14H5V17.59L9.5,13.09M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5\r\n                 H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19H17.59L13.09,\r\n                 14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91\r\n                 L13.09,9.5Z\"></path>\r\n                </svg>`,\r\n    rotateLeft: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n                 <path fill=\"currentColor\" d=\"M13,4.07V1L8.45,5.55L13,10V6.09\r\n                 C15.84,6.57 18,9.03 18,12C18,14.97 15.84,17.43 13,17.91V19.93\r\n                 C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07M7.1,18.32\r\n                 C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,\r\n                 16.87L7.1,18.32M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89\r\n                 L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13M7.11,8.53L5.7,7.11C4.8,\r\n                 8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z\"></path>\r\n                 </svg>`,\r\n    rotateRight: `<svg viewBox=\"0 0 24 24\" class=\"svg-inline-icon\">\r\n                  <path fill=\"currentColor\" d=\"M16.89,15.5L18.31,16.89C19.21,\r\n                  15.73 19.76,14.39 19.93,13H17.91C17.77,13.87 17.43,14.72 16.89,\r\n                  15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31L15.46,\r\n                  16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,\r\n                  8.27 18.31,7.11L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,\r\n                  5.55L11,1V4.07C7.06,4.56 4,7.92 4,12C4,16.08 7.05,19.44 11,19.93\r\n                  V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10L15.55,\r\n                  5.55Z\"></path>\r\n                  </svg>`\r\n  },\r\n\r\n  // Customize language of button title\r\n  i18n: {\r\n    minimize: 'minimize',\r\n    maximize: 'maximize',\r\n    close: 'close',\r\n    zoomIn: 'zoom-in(+)',\r\n    zoomOut: 'zoom-out(-)',\r\n    prev: 'prev(←)',\r\n    next: 'next(→)',\r\n    fullscreen: 'fullscreen',\r\n    actualSize: 'actual-size(Ctrl+Alt+0)',\r\n    rotateLeft: 'rotate-left(Ctrl+,)',\r\n    rotateRight: 'rotate-right(Ctrl+.)'\r\n  },\r\n\r\n  // Enable multiple instances\r\n  multiInstances: true,\r\n\r\n  // Enable animation\r\n  initAnimation: true,\r\n\r\n  // Disable modal position fixed when change images\r\n  fixedModalPos: false,\r\n\r\n  // Modal z-index\r\n  zIndex: 1090,\r\n\r\n  // Selector of drag handler\r\n  dragHandle: false,\r\n\r\n  // Callback events\r\n  callbacks: {\r\n    beforeOpen: $.noop,\r\n    opened: $.noop,\r\n    beforeClose: $.noop,\r\n    closed: $.noop,\r\n    beforeChange: $.noop,\r\n    changed: $.noop\r\n  },\r\n\r\n  // Start images index\r\n  index: 0,\r\n\r\n  // Load the image progressively\r\n  progressiveLoading: true\r\n\r\n}\r\n","/**\r\n * [throttle]\r\n * @param  {Function} fn    [description]\r\n * @param  {[Number]} delay [description]\r\n * @return {Function}       [description]\r\n */\r\nexport function throttle(fn, delay) {\r\n\r\n  let timer = null;\r\n\r\n  return function () {\r\n    let context = this,\r\n      args = arguments;\r\n\r\n    clearTimeout(timer);\r\n\r\n    timer = setTimeout(function () {\r\n      fn.apply(context, args);\r\n    }, delay);\r\n  };\r\n\r\n}\r\n\r\n/**\r\n * [preloadImg]\r\n * @param  {[String]}  src      [image src]\r\n * @param  {Function}  success  [callbacks]\r\n * @param  {Function}  error    [callbacks]\r\n */\r\nexport function preloadImg(src, success, error) {\r\n\r\n  let img = new Image();\r\n\r\n  img.onload = function () {\r\n    success(img);\r\n  };\r\n\r\n  img.onerror = function () {\r\n    error(img);\r\n  };\r\n\r\n  img.src = src;\r\n\r\n}\r\n\r\n/**\r\n * [requestFullscreen]\r\n * @param  {[type]} element [description]\r\n */\r\nexport function requestFullscreen(element) {\r\n  if (element.requestFullscreen) {\r\n    element.requestFullscreen();\r\n  } else if (element.mozRequestFullScreen) {\r\n    element.mozRequestFullScreen();\r\n  } else if (element.webkitRequestFullscreen) {\r\n    element.webkitRequestFullscreen();\r\n  } else if (element.msRequestFullscreen) {\r\n    element.msRequestFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * [exitFullscreen]\r\n */\r\nexport function exitFullscreen() {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) {\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) {\r\n    document.webkitExitFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * [getImageNameFromUrl]\r\n * @param  {[String]} url [description]\r\n * @return {[String]}     [description]\r\n */\r\nexport function getImageNameFromUrl(url) {\r\n  let reg = /^.*?\\/*([^/?]*)\\.[a-z]+(\\?.+|$)/ig,\r\n    txt = url.replace(reg, '$1');\r\n  return txt;\r\n}\r\n\r\n/**\r\n * [getNumFromCSSValue]\r\n * @param  {[String]} value [description]\r\n * @return {[Number]}       [description]\r\n */\r\nexport function getNumFromCSSValue(value) {\r\n  let reg = /\\d+/g,\r\n    arr = value.match(reg),\r\n    num = parseFloat(arr[0]);\r\n  return num;\r\n}\r\n\r\n/**\r\n * [hasScrollbar]\r\n * @return {[Boolean]}       [description]\r\n */\r\nexport function hasScrollbar() {\r\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\n/**\r\n * [getScrollbarWidth]\r\n * @return {[Number]}       [description]\r\n */\r\nexport function getScrollbarWidth() {\r\n\r\n  let scrollDiv = document.createElement('div');\r\n  scrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\r\n  document.body.appendChild(scrollDiv);\r\n  let scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n  document.body.removeChild(scrollDiv);\r\n\r\n  return scrollbarWidth;\r\n\r\n}\r\n\r\n/**\r\n * [setGrabCursor]\r\n * @param {[Object]}  imageData    [description]\r\n * @param {[Object]}  stageData    [description]\r\n * @param {[Object]}  stage        [description]\r\n * @param {[Boolean]} isRotate     [description]\r\n */\r\nexport function setGrabCursor(imageData, stageData, stage, isRotated) {\r\n\r\n  let imageWidth = !isRotated ? imageData.w : imageData.h,\r\n    imageHeight = !isRotated ? imageData.h : imageData.w;\r\n\r\n  if (imageHeight > stageData.h || imageWidth > stageData.w) {\r\n    stage.addClass('is-grab');\r\n  }\r\n  if (imageHeight <= stageData.h && imageWidth <= stageData.w) {\r\n    stage.removeClass('is-grab');\r\n  }\r\n}\r\n\r\n/**\r\n * [supportTouch]\r\n * @return {[Boolean]}     [description]\r\n */\r\nexport function supportTouch() {\r\n  return !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\r\n}\r\n","import { D as $ } from 'domq.js/src';\r\nimport defaults from './defaults';\r\nimport { supportTouch } from './utilities';\r\n\r\nexport const $W = $(window);\r\nexport const $D = $(document);\r\n\r\nexport const CLICK_EVENT = 'click';\r\nexport const RESIZE_EVENT = 'resize';\r\nexport const KEYDOWN_EVENT = 'keydown';\r\nexport const WHEEL_EVENT = 'wheel mousewheel DOMMouseScroll';\r\n\r\nexport const TOUCH_START_EVENT = supportTouch() ? 'touchstart' : 'mousedown';\r\nexport const TOUCH_MOVE_EVENT = supportTouch() ? 'touchmove' : 'mousemove';\r\nexport const TOUCH_END_EVENT = supportTouch() ? 'touchend' : 'mouseup';\r\n\r\nexport const NS = 'photoviewer';\r\nexport const CLASS_NS = '.' + NS;\r\nexport const EVENT_NS = '.' + NS;\r\n\r\nexport const PUBLIC_VARS = {\r\n  // image moving flag\r\n  isMoving: false,\r\n  // modal resizing flag\r\n  isResizing: false,\r\n  // modal z-index setting\r\n  zIndex: defaults.zIndex,\r\n};\r\n","import { D as $ } from 'domq.js/src';\r\nimport {\r\n  $D,\r\n  TOUCH_START_EVENT,\r\n  TOUCH_MOVE_EVENT,\r\n  TOUCH_END_EVENT,\r\n  EVENT_NS,\r\n  PUBLIC_VARS\r\n} from './constants';\r\n\r\nexport default {\r\n\r\n  /**\r\n   * [draggable]\r\n   * @param  {[Object]} modal       [the modal element]\r\n   * @param  {[Object]} dragHandle  [the handle element when dragging]\r\n   * @param  {[Object]} dragCancel  [the cancel element when dragging]\r\n   */\r\n  draggable(modal, dragHandle, dragCancel) {\r\n\r\n    let isDragging = false;\r\n\r\n    let startX = 0,\r\n      startY = 0,\r\n\r\n      left = 0,\r\n      top = 0;\r\n\r\n    let dragStart = (e) => {\r\n\r\n      e = e || window.event;\r\n\r\n      // Must be removed\r\n      // e.preventDefault();\r\n\r\n      if (this.options.multiInstances) {\r\n        modal.css('z-index', ++PUBLIC_VARS['zIndex']);\r\n      }\r\n\r\n      // Get clicked button\r\n      let elemCancel = $(e.target).closest(dragCancel);\r\n      // Stop modal moving when click buttons\r\n      if (elemCancel.length) {\r\n        return true;\r\n      }\r\n\r\n      isDragging = true;\r\n\r\n      startX = e.type === 'touchstart'\r\n        ? e.targetTouches[0].pageX\r\n        : e.clientX;\r\n      startY = e.type === 'touchstart'\r\n        ? e.targetTouches[0].pageY\r\n        : e.clientY;\r\n\r\n      left = $(modal).offset().left;\r\n      top = $(modal).offset().top;\r\n\r\n      $D.on(TOUCH_MOVE_EVENT + EVENT_NS, dragMove)\r\n        .on(TOUCH_END_EVENT + EVENT_NS, dragEnd);\r\n\r\n    };\r\n\r\n    let dragMove = (e) => {\r\n\r\n      e = e || window.event;\r\n\r\n      e.preventDefault();\r\n\r\n      if (isDragging && !PUBLIC_VARS['isMoving'] && !PUBLIC_VARS['isResizing'] && !this.isMaximized) {\r\n\r\n        let endX = e.type === 'touchmove'\r\n          ? e.targetTouches[0].pageX\r\n          : e.clientX,\r\n          endY = e.type === 'touchmove'\r\n            ? e.targetTouches[0].pageY\r\n            : e.clientY,\r\n\r\n          relativeX = endX - startX,\r\n          relativeY = endY - startY;\r\n\r\n        $(modal).css({\r\n          left: relativeX + left + 'px',\r\n          top: relativeY + top + 'px'\r\n        });\r\n\r\n      }\r\n\r\n    };\r\n\r\n    let dragEnd = () => {\r\n\r\n      $D.off(TOUCH_MOVE_EVENT + EVENT_NS, dragMove)\r\n        .off(TOUCH_END_EVENT + EVENT_NS, dragEnd);\r\n\r\n      isDragging = false;\r\n\r\n    };\r\n\r\n    $(dragHandle).on(TOUCH_START_EVENT + EVENT_NS, dragStart);\r\n\r\n  }\r\n\r\n}\r\n","import { D as $ } from 'domq.js/src';\r\nimport {\r\n  $D,\r\n  TOUCH_START_EVENT,\r\n  TOUCH_MOVE_EVENT,\r\n  TOUCH_END_EVENT,\r\n  NS,\r\n  EVENT_NS,\r\n  PUBLIC_VARS\r\n} from './constants';\r\n\r\nconst ELEMS_WITH_GRABBING_CURSOR = `html,body,.${NS}-modal,.${NS}-stage,.${NS}-button,.${NS}-resizable-handle`;\r\n\r\nexport default {\r\n\r\n  /**\r\n   * --------------------------------------\r\n   * 1.no movable\r\n   * 2.vertical movable\r\n   * 3.horizontal movable\r\n   * 4.vertical & horizontal movable\r\n   * --------------------------------------\r\n   *\r\n   * [image movable]\r\n   * @param  {[Object]} stage   [the stage element]\r\n   * @param  {[Object]} image   [the image element]\r\n   */\r\n  movable(stage, image) {\r\n\r\n    let isDragging = false;\r\n\r\n    let startX = 0,\r\n      startY = 0,\r\n\r\n      left = 0,\r\n      top = 0,\r\n\r\n      widthDiff = 0,\r\n      heightDiff = 0,\r\n\r\n      δ = 0;\r\n\r\n    let dragStart = (e) => {\r\n\r\n      e = e || window.event;\r\n\r\n      e.preventDefault();\r\n\r\n      let imageWidth = $(image).width(),\r\n        imageHeight = $(image).height(),\r\n        stageWidth = $(stage).width(),\r\n        stageHeight = $(stage).height();\r\n\r\n      startX = e.type === 'touchstart'\r\n        ? e.targetTouches[0].pageX\r\n        : e.clientX;\r\n      startY = e.type === 'touchstart'\r\n        ? e.targetTouches[0].pageY\r\n        : e.clientY;\r\n\r\n      // δ is the difference between image width and height\r\n      δ = !this.isRotated ? 0 : (imageWidth - imageHeight) / 2;\r\n\r\n      // Width or height difference can be use to limit image right or top position\r\n      widthDiff = !this.isRotated\r\n        ? (imageWidth - stageWidth)\r\n        : (imageHeight - stageWidth);\r\n      heightDiff = !this.isRotated\r\n        ? (imageHeight - stageHeight)\r\n        : (imageWidth - stageHeight);\r\n\r\n      // Modal can be dragging if image is smaller to stage\r\n      isDragging = (widthDiff > 0 || heightDiff > 0) ? true : false;\r\n      PUBLIC_VARS['isMoving'] = (widthDiff > 0 || heightDiff > 0) ? true : false;\r\n\r\n      // Reclac the element position when mousedown\r\n      // Fixed the issue of stage with a border\r\n      left = $(image).position().left - δ;\r\n      top = $(image).position().top + δ;\r\n\r\n      // Add grabbing cursor\r\n      if (stage.hasClass('is-grab')) {\r\n        $(ELEMS_WITH_GRABBING_CURSOR).addClass('is-grabbing');\r\n      }\r\n\r\n      $D.on(TOUCH_MOVE_EVENT + EVENT_NS, dragMove)\r\n        .on(TOUCH_END_EVENT + EVENT_NS, dragEnd);\r\n\r\n    };\r\n\r\n    let dragMove = (e) => {\r\n\r\n      e = e || window.event;\r\n\r\n      e.preventDefault();\r\n\r\n      if (isDragging) {\r\n\r\n        let endX = e.type === 'touchmove'\r\n          ? e.targetTouches[0].pageX\r\n          : e.clientX,\r\n          endY = e.type === 'touchmove'\r\n            ? e.targetTouches[0].pageY\r\n            : e.clientY,\r\n\r\n          relativeX = endX - startX,\r\n          relativeY = endY - startY,\r\n\r\n          newLeft = relativeX + left,\r\n          newTop = relativeY + top;\r\n\r\n        // vertical limit\r\n        if (heightDiff > 0) {\r\n\r\n          if ((relativeY + top) > δ) {\r\n            newTop = δ;\r\n          } else if ((relativeY + top) < -heightDiff + δ) {\r\n            newTop = -heightDiff + δ;\r\n          }\r\n\r\n        } else {\r\n          newTop = top;\r\n        }\r\n        // horizontal limit\r\n        if (widthDiff > 0) {\r\n\r\n          if ((relativeX + left) > -δ) {\r\n            newLeft = -δ;\r\n          } else if ((relativeX + left) < -widthDiff - δ) {\r\n            newLeft = -widthDiff - δ;\r\n          }\r\n\r\n        } else {\r\n          newLeft = left;\r\n        }\r\n\r\n        $(image).css({\r\n          left: newLeft + 'px',\r\n          top: newTop + 'px'\r\n        });\r\n\r\n        // Update image initial data\r\n        $.extend(this.imageData, {\r\n          left: newLeft,\r\n          top: newTop\r\n        });\r\n\r\n      }\r\n\r\n    };\r\n\r\n    let dragEnd = () => {\r\n\r\n      $D.off(TOUCH_MOVE_EVENT + EVENT_NS, dragMove)\r\n        .off(TOUCH_END_EVENT + EVENT_NS, dragEnd);\r\n\r\n      isDragging = false;\r\n      PUBLIC_VARS['isMoving'] = false;\r\n\r\n      // Remove grabbing cursor\r\n      $(ELEMS_WITH_GRABBING_CURSOR).removeClass('is-grabbing');\r\n\r\n    };\r\n\r\n    $(stage).on(TOUCH_START_EVENT + EVENT_NS, dragStart);\r\n\r\n  }\r\n\r\n}\r\n","import { D as $ } from 'domq.js/src';\r\nimport {\r\n  $D,\r\n  TOUCH_START_EVENT,\r\n  TOUCH_MOVE_EVENT,\r\n  TOUCH_END_EVENT,\r\n  NS,\r\n  EVENT_NS,\r\n  PUBLIC_VARS\r\n} from './constants';\r\n\r\nimport {\r\n  setGrabCursor\r\n} from './utilities';\r\n\r\nconst ELEMS_WITH_RESIZE_CURSOR = `html,body,.${NS}-modal,.${NS}-stage,.${NS}-button`;\r\n\r\nexport default {\r\n\r\n  /**\r\n   * ------------------------------\r\n   * 1.modal resizable\r\n   * 2.keep image in stage center\r\n   * 3.other image limitations\r\n   * ------------------------------\r\n   *\r\n   * [resizable]\r\n   * @param  {[Object]} modal       [the modal element]\r\n   * @param  {[Object]} stage       [the stage element]\r\n   * @param  {[Object]} image       [the image element]\r\n   * @param  {[Number]} minWidth    [the option of modalWidth]\r\n   * @param  {[Number]} minHeight   [the option of modalHeight]\r\n   */\r\n  resizable(modal, stage, image, minWidth, minHeight) {\r\n\r\n    let resizableHandleE = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-e\"></div>`),\r\n      resizableHandleW = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-w\"></div>`),\r\n      resizableHandleS = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-s\"></div>`),\r\n      resizableHandleN = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-n\"></div>`),\r\n      resizableHandleSE = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-se\"></div>`),\r\n      resizableHandleSW = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-sw\"></div>`),\r\n      resizableHandleNE = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-ne\"></div>`),\r\n      resizableHandleNW = $(`<div class=\"${NS}-resizable-handle ${NS}-resizable-handle-nw\"></div>`);\r\n\r\n    let resizableHandles = {\r\n      'e': resizableHandleE,\r\n      's': resizableHandleS,\r\n      'se': resizableHandleSE,\r\n      'n': resizableHandleN,\r\n      'w': resizableHandleW,\r\n      'nw': resizableHandleNW,\r\n      'ne': resizableHandleNE,\r\n      'sw': resizableHandleSW\r\n    };\r\n\r\n    $(modal).append(\r\n      resizableHandleE, resizableHandleW, resizableHandleS, resizableHandleN,\r\n      resizableHandleSE, resizableHandleSW, resizableHandleNE, resizableHandleNW\r\n    );\r\n\r\n    let isDragging = false;\r\n\r\n    let startX = 0,\r\n      startY = 0,\r\n\r\n      modalData = {\r\n        w: 0,\r\n        h: 0,\r\n        l: 0,\r\n        t: 0\r\n      },\r\n      stageData = {\r\n        w: 0,\r\n        h: 0,\r\n        l: 0,\r\n        t: 0\r\n      },\r\n      imageData = {\r\n        w: 0,\r\n        h: 0,\r\n        l: 0,\r\n        t: 0\r\n      },\r\n\r\n      // δ is the difference between image width and height\r\n      δ = 0,\r\n      imgWidth = 0,\r\n      imgHeight = 0,\r\n\r\n      direction = '';\r\n\r\n    // modal CSS options\r\n    let getModalOpts = function (dir, offsetX, offsetY) {\r\n\r\n      // Modal should not move when its width to the minwidth\r\n      let modalLeft = (-offsetX + modalData.w) > minWidth\r\n        ? (offsetX + modalData.l)\r\n        : (modalData.l + modalData.w - minWidth),\r\n        modalTop = (-offsetY + modalData.h) > minHeight\r\n          ? (offsetY + modalData.t)\r\n          : (modalData.t + modalData.h - minHeight);\r\n\r\n      let opts = {\r\n        'e': {\r\n          width: Math.max((offsetX + modalData.w), minWidth) + 'px'\r\n        },\r\n        's': {\r\n          height: Math.max((offsetY + modalData.h), minHeight) + 'px'\r\n        },\r\n        'se': {\r\n          width: Math.max((offsetX + modalData.w), minWidth) + 'px',\r\n          height: Math.max((offsetY + modalData.h), minHeight) + 'px'\r\n        },\r\n        'w': {\r\n          width: Math.max((-offsetX + modalData.w), minWidth) + 'px',\r\n          left: modalLeft + 'px'\r\n        },\r\n        'n': {\r\n          height: Math.max((-offsetY + modalData.h), minHeight) + 'px',\r\n          top: modalTop + 'px'\r\n        },\r\n        'nw': {\r\n          width: Math.max((-offsetX + modalData.w), minWidth) + 'px',\r\n          height: Math.max((-offsetY + modalData.h), minHeight) + 'px',\r\n          top: modalTop + 'px',\r\n          left: modalLeft + 'px'\r\n        },\r\n        'ne': {\r\n          width: Math.max((offsetX + modalData.w), minWidth) + 'px',\r\n          height: Math.max((-offsetY + modalData.h), minHeight) + 'px',\r\n          top: modalTop + 'px'\r\n        },\r\n        'sw': {\r\n          width: Math.max((-offsetX + modalData.w), minWidth) + 'px',\r\n          height: Math.max((offsetY + modalData.h), minHeight) + 'px',\r\n          left: modalLeft + 'px'\r\n        }\r\n      };\r\n\r\n      return opts[dir];\r\n    };\r\n\r\n    // image CSS options\r\n    let getImageOpts = function (dir, offsetX, offsetY) {\r\n\r\n      // Image should not move when modal width to the min width\r\n      // The minwidth is modal width, so we should clac the stage minwidth\r\n      let widthDiff = (offsetX + modalData.w) > minWidth\r\n        ? (stageData.w - imgWidth + offsetX - δ)\r\n        : (minWidth - (modalData.w - stageData.w) - imgWidth - δ),\r\n        heightDiff = (offsetY + modalData.h) > minHeight\r\n          ? (stageData.h - imgHeight + offsetY + δ)\r\n          : (minHeight - (modalData.h - stageData.h) - imgHeight + δ),\r\n\r\n        widthDiff2 = (-offsetX + modalData.w) > minWidth\r\n          ? (stageData.w - imgWidth - offsetX - δ)\r\n          : (minWidth - (modalData.w - stageData.w) - imgWidth - δ),\r\n        heightDiff2 = (-offsetY + modalData.h) > minHeight\r\n          ? (stageData.h - imgHeight - offsetY + δ)\r\n          : (minHeight - (modalData.h - stageData.h) - imgHeight + δ);\r\n\r\n      // Get image position in dragging\r\n      let imgLeft = (widthDiff > 0\r\n        ? $(image).position().left\r\n        : ($(image).position().left < 0\r\n          ? $(image).position().left\r\n          : 0)) - δ,\r\n        imgTop = (heightDiff > 0\r\n          ? $(image).position().top\r\n          : ($(image).position().top < 0\r\n            ? $(image).position().top\r\n            : 0)) + δ,\r\n\r\n        imgLeft2 = (widthDiff2 > 0\r\n          ? $(image).position().left\r\n          : ($(image).position().left < 0\r\n            ? $(image).position().left\r\n            : 0)) - δ,\r\n        imgTop2 = (heightDiff2 > 0\r\n          ? $(image).position().top\r\n          : ($(image).position().top < 0\r\n            ? $(image).position().top\r\n            : 0)) + δ;\r\n\r\n      let opts = {\r\n        'e': {\r\n          left: widthDiff >= -δ\r\n            ? ((widthDiff - δ) / 2 + 'px')\r\n            : (imgLeft > widthDiff\r\n              ? (imgLeft + 'px')\r\n              : (widthDiff + 'px'))\r\n        },\r\n        's': {\r\n          top: heightDiff >= δ\r\n            ? ((heightDiff + δ) / 2 + 'px')\r\n            : (imgTop > heightDiff\r\n              ? (imgTop + 'px')\r\n              : (heightDiff + 'px'))\r\n        },\r\n        'se': {\r\n          top: heightDiff >= δ\r\n            ? ((heightDiff + δ) / 2 + 'px')\r\n            : (imgTop > heightDiff\r\n              ? (imgTop + 'px')\r\n              : (heightDiff + 'px')),\r\n          left: widthDiff >= -δ\r\n            ? ((widthDiff - δ) / 2 + 'px')\r\n            : (imgLeft > widthDiff\r\n              ? (imgLeft + 'px')\r\n              : (widthDiff + 'px'))\r\n        },\r\n        'w': {\r\n          left: widthDiff2 >= -δ\r\n            ? ((widthDiff2 - δ) / 2 + 'px')\r\n            : (imgLeft2 > widthDiff2\r\n              ? (imgLeft2 + 'px')\r\n              : (widthDiff2 + 'px'))\r\n        },\r\n        'n': {\r\n          top: heightDiff2 >= δ\r\n            ? ((heightDiff2 + δ) / 2 + 'px')\r\n            : (imgTop2 > heightDiff2\r\n              ? (imgTop2 + 'px')\r\n              : (heightDiff2 + 'px'))\r\n        },\r\n        'nw': {\r\n          top: heightDiff2 >= δ\r\n            ? ((heightDiff2 + δ) / 2 + 'px')\r\n            : (imgTop2 > heightDiff2\r\n              ? (imgTop2 + 'px')\r\n              : (heightDiff2 + 'px')),\r\n          left: widthDiff2 >= -δ\r\n            ? ((widthDiff2 - δ) / 2 + 'px')\r\n            : (imgLeft2 > widthDiff2\r\n              ? (imgLeft2 + 'px')\r\n              : (widthDiff2 + 'px'))\r\n        },\r\n        'ne': {\r\n          top: heightDiff2 >= δ\r\n            ? ((heightDiff2 + δ) / 2 + 'px')\r\n            : (imgTop2 > heightDiff2\r\n              ? (imgTop2 + 'px')\r\n              : (heightDiff2 + 'px')),\r\n          left: widthDiff >= -δ\r\n            ? ((widthDiff - δ) / 2 + 'px')\r\n            : (imgLeft > widthDiff\r\n              ? (imgLeft + 'px')\r\n              : (widthDiff + 'px'))\r\n        },\r\n        'sw': {\r\n          top: heightDiff >= δ\r\n            ? ((heightDiff + δ) / 2 + 'px')\r\n            : (imgTop > heightDiff\r\n              ? (imgTop + 'px')\r\n              : (heightDiff + 'px')),\r\n          left: widthDiff2 >= -δ\r\n            ? ((widthDiff2 - δ) / 2 + 'px')\r\n            : (imgLeft2 > widthDiff2\r\n              ? (imgLeft2 + 'px')\r\n              : (widthDiff2 + 'px'))\r\n        }\r\n      };\r\n\r\n      return opts[dir];\r\n    };\r\n\r\n    let dragStart = (dir, e) => {\r\n\r\n      e = e || window.event;\r\n\r\n      e.preventDefault();\r\n\r\n      isDragging = true;\r\n      PUBLIC_VARS['isResizing'] = true;\r\n\r\n      startX = e.type === 'touchstart'\r\n        ? e.targetTouches[0].pageX\r\n        : e.clientX;\r\n      startY = e.type === 'touchstart'\r\n        ? e.targetTouches[0].pageY\r\n        : e.clientY;\r\n\r\n      // Reclac the modal data when mousedown\r\n      modalData = {\r\n        w: $(modal).width(),\r\n        h: $(modal).height(),\r\n        l: $(modal).offset().left,\r\n        t: $(modal).offset().top\r\n      };\r\n\r\n      stageData = {\r\n        w: $(stage).width(),\r\n        h: $(stage).height(),\r\n        l: $(stage).offset().left,\r\n        t: $(stage).offset().top\r\n      };\r\n\r\n      imageData = {\r\n        w: $(image).width(),\r\n        h: $(image).height(),\r\n        l: $(image).position().left,\r\n        t: $(image).position().top\r\n      };\r\n\r\n      // δ is the difference between image width and height\r\n      δ = !this.isRotated\r\n        ? 0\r\n        : (imageData.w - imageData.h) / 2;\r\n      imgWidth = !this.isRotated\r\n        ? imageData.w\r\n        : imageData.h;\r\n      imgHeight = !this.isRotated\r\n        ? imageData.h\r\n        : imageData.w;\r\n\r\n      direction = dir;\r\n\r\n      // Add resizable cursor\r\n      $(ELEMS_WITH_RESIZE_CURSOR).css('cursor', dir + '-resize');\r\n\r\n      $D.on(TOUCH_MOVE_EVENT + EVENT_NS, dragMove)\r\n        .on(TOUCH_END_EVENT + EVENT_NS, dragEnd);\r\n\r\n    };\r\n\r\n    let dragMove = (e) => {\r\n\r\n      e = e || window.event;\r\n\r\n      e.preventDefault();\r\n\r\n      if (isDragging && !this.isMaximized) {\r\n\r\n        let endX = e.type === 'touchmove'\r\n          ? e.targetTouches[0].pageX\r\n          : e.clientX,\r\n          endY = e.type === 'touchmove'\r\n            ? e.targetTouches[0].pageY\r\n            : e.clientY,\r\n\r\n          relativeX = endX - startX,\r\n          relativeY = endY - startY;\r\n\r\n        let modalOpts = getModalOpts(direction, relativeX, relativeY);\r\n\r\n        $(modal).css(modalOpts);\r\n\r\n        let imageOpts = getImageOpts(direction, relativeX, relativeY);\r\n\r\n        $(image).css(imageOpts);\r\n\r\n        this.isDoResize = true;\r\n\r\n      }\r\n\r\n    };\r\n\r\n    let dragEnd = () => {\r\n\r\n      $D.off(TOUCH_MOVE_EVENT + EVENT_NS, dragMove)\r\n        .off(TOUCH_END_EVENT + EVENT_NS, dragEnd);\r\n\r\n      // Set grab cursor\r\n      if (PUBLIC_VARS['isResizing']) {\r\n        setGrabCursor(\r\n          {\r\n            w: imgWidth,\r\n            h: imgHeight\r\n          },\r\n          {\r\n            w: $(stage).width(),\r\n            h: $(stage).height()\r\n          },\r\n          stage\r\n        );\r\n      }\r\n\r\n      isDragging = false;\r\n      PUBLIC_VARS['isResizing'] = false;\r\n\r\n      // Remove resizable cursor\r\n      $(ELEMS_WITH_RESIZE_CURSOR).css('cursor', '');\r\n\r\n      // Update image initial data\r\n      let scale = this.getImageScaleToStage(\r\n        $(stage).width(),\r\n        $(stage).height()\r\n      );\r\n\r\n      $.extend(this.imageData, {\r\n        initWidth: this.img.width * scale,\r\n        initHeight: this.img.height * scale,\r\n        initLeft: ($(stage).width() - this.img.width * scale) / 2,\r\n        initTop: ($(stage).height() - this.img.height * scale) / 2\r\n      });\r\n\r\n    };\r\n\r\n    $.each(resizableHandles, function (dir, handle) {\r\n      handle.on(TOUCH_START_EVENT + EVENT_NS, function (e) {\r\n        dragStart(dir, e);\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","import { D as $ } from 'domq.js/src';\r\nimport DEFAULTS from './defaults';\r\nimport {\r\n  $W,\r\n  $D,\r\n  CLICK_EVENT,\r\n  RESIZE_EVENT,\r\n  KEYDOWN_EVENT,\r\n  WHEEL_EVENT,\r\n  NS,\r\n  CLASS_NS,\r\n  EVENT_NS,\r\n  PUBLIC_VARS\r\n} from './constants';\r\n\r\nimport {\r\n  throttle,\r\n  preloadImg,\r\n  requestFullscreen,\r\n  getImageNameFromUrl,\r\n  getNumFromCSSValue,\r\n  hasScrollbar,\r\n  getScrollbarWidth,\r\n  setGrabCursor\r\n} from './utilities';\r\n\r\nimport draggable from './draggable';\r\nimport movable from './movable';\r\nimport resizable from './resizable';\r\n\r\n/**\r\n * PhotoViewer Class\r\n */\r\nclass PhotoViewer {\r\n\r\n  constructor(items, options, el) {\r\n\r\n    this.options = $.extend(true, {}, DEFAULTS, options);\r\n\r\n    if (options && $.isArray(options.footToolbar)) {\r\n      this.options.footToolbar = options.footToolbar;\r\n    }\r\n\r\n    if (options && $.isArray(options.headToolbar)) {\r\n      this.options.headToolbar = options.headToolbar;\r\n    }\r\n\r\n    // Store element of clicked\r\n    this.$el = $(el);\r\n\r\n    // As we have multiple instances,\r\n    // so every instance has following variables.\r\n\r\n    // modal open flag\r\n    this.isOpened = false;\r\n    // modal maximize flag\r\n    this.isMaximized = false;\r\n    // image rotate 90*(2n+1) flag\r\n    this.isRotated = false;\r\n    // image rotate angle\r\n    this.rotateAngle = 0;\r\n\r\n    // if modal do resize\r\n    this.isDoResize = false;\r\n\r\n    // Store image data in every instance\r\n    this.imageData = {};\r\n    // Store modal data in every instance\r\n    this.modalData = {\r\n      width: null,\r\n      height: null,\r\n      left: null,\r\n      top: null\r\n    };\r\n\r\n    this.init(items, this.options, el);\r\n\r\n  }\r\n\r\n  init(items, opts, el) {\r\n\r\n    this.groupData = items;\r\n    this.groupIndex = opts['index'];\r\n\r\n    // Get image src\r\n    let imgSrc = items[this.groupIndex]['src'];\r\n\r\n    this.open();\r\n\r\n    this.loadImg(imgSrc);\r\n\r\n    // draggable & movable & resizable\r\n    if (opts.draggable) {\r\n      this.draggable(this.$photoviewer, this.dragHandle, CLASS_NS + '-button');\r\n    }\r\n    if (opts.movable) {\r\n      this.movable(this.$stage, this.$image);\r\n    }\r\n    if (opts.resizable) {\r\n      this.resizable(\r\n        this.$photoviewer,\r\n        this.$stage,\r\n        this.$image,\r\n        opts.modalWidth,\r\n        opts.modalHeight\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  _creatBtns(toolbar, btns) {\r\n\r\n    let btnsStr = '';\r\n\r\n    $.each(toolbar, function (index, item) {\r\n      btnsStr += btns[item];\r\n    });\r\n\r\n    return btnsStr;\r\n\r\n  }\r\n\r\n  _creatTitle() {\r\n    return (this.options.title ? `<div class=\"${NS}-title\"></div>` : '');\r\n  }\r\n\r\n  _creatDOM() {\r\n\r\n    let btnsTpl = {\r\n      minimize: `<button class=\"${NS}-button ${NS}-button-minimize\"\r\n                  title=\"${this.options.i18n.minimize}\">\r\n                    ${this.options.icons.minimize}\r\n                  </button>`,\r\n      maximize: `<button class=\"${NS}-button ${NS}-button-maximize\"\r\n                  title=\"${this.options.i18n.maximize}\">\r\n                    ${this.options.icons.maximize}\r\n                  </button>`,\r\n      close: `<button class=\"${NS}-button ${NS}-button-close\"\r\n              title=\"${this.options.i18n.close}\">\r\n                ${this.options.icons.close}\r\n              </button>`,\r\n      zoomIn: `<button class=\"${NS}-button ${NS}-button-zoom-in\"\r\n                title=\"${this.options.i18n.zoomIn}\">\r\n                  ${this.options.icons.zoomIn}\r\n                </button>`,\r\n      zoomOut: `<button class=\"${NS}-button ${NS}-button-zoom-out\"\r\n                title=\"${this.options.i18n.zoomOut}\">\r\n                  ${this.options.icons.zoomOut}\r\n                </button>`,\r\n      prev: `<button class=\"${NS}-button ${NS}-button-prev\"\r\n              title=\"${this.options.i18n.prev}\">\r\n                ${this.options.icons.prev}\r\n              </button>`,\r\n      next: `<button class=\"${NS}-button ${NS}-button-next\"\r\n              title=\"${this.options.i18n.next}\">\r\n                ${this.options.icons.next}\r\n              </button>`,\r\n      fullscreen: `<button class=\"${NS}-button ${NS}-button-fullscreen\"\r\n                    title=\"${this.options.i18n.fullscreen}\">\r\n                    ${this.options.icons.fullscreen}\r\n                  </button>`,\r\n      actualSize: `<button class=\"${NS}-button ${NS}-button-actual-size\"\r\n                    title=\"${this.options.i18n.actualSize}\">\r\n                      ${this.options.icons.actualSize}\r\n                    </button>`,\r\n      rotateLeft: `<button class=\"${NS}-button ${NS}-button-rotate-left\"\r\n                    title=\"${this.options.i18n.rotateLeft}\">\r\n                      ${this.options.icons.rotateLeft}\r\n                    </button>`,\r\n      rotateRight: `<button class=\"${NS}-button ${NS}-button-rotate-right\"\r\n                      title=\"${this.options.i18n.rotateRight}\">\r\n                      ${this.options.icons.rotateRight}\r\n                    </button>`\r\n    };\r\n\r\n    // photoviewer base HTML\r\n    let photoviewerHTML =\r\n      `<div class=\"${NS}-modal\">\r\n        <div class=\"${NS}-inner\">\r\n          <div class=\"${NS}-header\">\r\n            <div class=\"${NS}-toolbar ${NS}-toolbar-head\">\r\n              ${this._creatBtns(this.options.headToolbar, btnsTpl)}\r\n            </div>\r\n            ${this._creatTitle()}\r\n          </div>\r\n          <div class=\"${NS}-stage\">\r\n            <img class=\"${NS}-image\" src=\"\" alt=\"\" />\r\n          </div>\r\n          <div class=\"${NS}-footer\">\r\n            <div class=\"${NS}-toolbar ${NS}-toolbar-foot\">\r\n              ${this._creatBtns(this.options.footToolbar, btnsTpl)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n\r\n    return photoviewerHTML;\r\n\r\n  }\r\n\r\n  build() {\r\n\r\n    // Create photoviewer HTML string\r\n    let photoviewerHTML = this._creatDOM();\r\n\r\n    // Make photoviewer HTML string to jQuery element\r\n    let $photoviewer = $(photoviewerHTML);\r\n\r\n    // Get all photoviewer element\r\n    this.$photoviewer = $photoviewer;\r\n    this.$header = $photoviewer.find(CLASS_NS + '-header');\r\n    this.$headToolbar = $photoviewer.find(CLASS_NS + '-toolbar-head');\r\n    this.$footer = $photoviewer.find(CLASS_NS + '-footer');\r\n    this.$footToolbar = $photoviewer.find(CLASS_NS + '-toolbar-foot');\r\n    this.$stage = $photoviewer.find(CLASS_NS + '-stage');\r\n    this.$title = $photoviewer.find(CLASS_NS + '-title');\r\n    this.$image = $photoviewer.find(CLASS_NS + '-image');\r\n    this.$close = $photoviewer.find(CLASS_NS + '-button-close');\r\n    this.$maximize = $photoviewer.find(CLASS_NS + '-button-maximize');\r\n    this.$minimize = $photoviewer.find(CLASS_NS + '-button-minimize');\r\n    this.$zoomIn = $photoviewer.find(CLASS_NS + '-button-zoom-in');\r\n    this.$zoomOut = $photoviewer.find(CLASS_NS + '-button-zoom-out');\r\n    this.$actualSize = $photoviewer.find(CLASS_NS + '-button-actual-size');\r\n    this.$fullscreen = $photoviewer.find(CLASS_NS + '-button-fullscreen');\r\n    this.$rotateLeft = $photoviewer.find(CLASS_NS + '-button-rotate-left');\r\n    this.$rotateRight = $photoviewer.find(CLASS_NS + '-button-rotate-right');\r\n    this.$prev = $photoviewer.find(CLASS_NS + '-button-prev');\r\n    this.$next = $photoviewer.find(CLASS_NS + '-button-next');\r\n\r\n    // Add class before image loaded\r\n    this.$stage.addClass('stage-ready');\r\n    this.$image.addClass('image-ready');\r\n\r\n    // Reset modal z-index with multiple instances\r\n    this.$photoviewer.css('z-index', PUBLIC_VARS['zIndex']);\r\n\r\n    // Set handle element of draggable\r\n    if (!this.options.dragHandle || this.options.dragHandle === CLASS_NS + '-modal') {\r\n      this.dragHandle = this.$photoviewer;\r\n    } else {\r\n      this.dragHandle = this.$photoviewer.find(this.options.dragHandle);\r\n    }\r\n\r\n  }\r\n\r\n  open() {\r\n\r\n    if (!this.options.multiInstances) {\r\n      $(CLASS_NS + '-modal').eq(0).remove();\r\n    }\r\n\r\n    // Fixed modal position bug\r\n    if (!$(CLASS_NS + '-modal').length && this.options.fixedContent) {\r\n\r\n      $('html').css({ 'overflow': 'hidden' });\r\n\r\n      if (hasScrollbar()) {\r\n        let scrollbarWidth = getScrollbarWidth();\r\n        if (scrollbarWidth) {\r\n          $('html').css({ 'padding-right': scrollbarWidth });\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    this.build();\r\n\r\n    this._triggerHook('beforeOpen', this.$el);\r\n\r\n    // Add PhotoViewer to DOM\r\n    $('body').append(this.$photoviewer);\r\n\r\n    this.addEvents();\r\n\r\n    this.setModalPos(this.$photoviewer);\r\n\r\n    this._triggerHook('opened', this.$el);\r\n\r\n  }\r\n\r\n  close() {\r\n\r\n    this._triggerHook('beforeClose', this.$el);\r\n\r\n    // Remove instance\r\n    this.$photoviewer.remove();\r\n\r\n    this.isOpened = false;\r\n    this.isMaximized = false;\r\n    this.isRotated = false;\r\n    this.rotateAngle = 0;\r\n\r\n    let zeroModal = !$(CLASS_NS + '-modal').length;\r\n\r\n    // Fixed modal position bug\r\n    if (zeroModal && this.options.fixedContent) {\r\n      $('html').css({ 'overflow': '', 'padding-right': '' });\r\n    }\r\n\r\n    // Reset zIndex after close\r\n    if (zeroModal && this.options.multiInstances) {\r\n      PUBLIC_VARS['zIndex'] = this.options.zIndex;\r\n    }\r\n\r\n    // off events\r\n    if (!$(CLASS_NS + '-modal').length) {\r\n      $D.off(KEYDOWN_EVENT + EVENT_NS);\r\n      $W.off(RESIZE_EVENT + EVENT_NS);\r\n    }\r\n\r\n    this._triggerHook('closed', this.$el);\r\n\r\n  }\r\n\r\n  setModalPos(modal) {\r\n\r\n    let winWidth = $W.width(),\r\n      winHeight = $W.height(),\r\n      scrollLeft = document.documentElement.scrollLeft,\r\n      scrollTop = document.documentElement.scrollTop;\r\n\r\n    let modalWidth = this.options.modalWidth,\r\n      modalHeight = this.options.modalHeight;\r\n\r\n    // Set modal maximized when init\r\n    if (this.options.initMaximized) {\r\n\r\n      modal.addClass(NS + '-maximize');\r\n\r\n      modal.css({\r\n        width: '100%',\r\n        height: '100%',\r\n        left: 0,\r\n        top: 0\r\n      });\r\n\r\n      this.isOpened = true;\r\n      this.isMaximized = true;\r\n\r\n    } else {\r\n\r\n      // Make the modal in windows center\r\n      modal.css({\r\n        width: modalWidth,\r\n        height: modalHeight,\r\n        left: (winWidth - modalWidth) / 2 + scrollLeft + 'px',\r\n        top: (winHeight - modalHeight) / 2 + scrollTop + 'px'\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  setModalSize(img) {\r\n\r\n    let winWidth = $W.width(),\r\n      winHeight = $W.height(),\r\n      scrollLeft = document.documentElement.scrollLeft,\r\n      scrollTop = document.documentElement.scrollTop;\r\n\r\n    // stage css value\r\n    let stageCSS = {\r\n      left: this.$stage.css('left'),\r\n      right: this.$stage.css('right'),\r\n      top: this.$stage.css('top'),\r\n      bottom: this.$stage.css('bottom'),\r\n      borderLeft: this.$stage.css('border-left-width'),\r\n      borderRight: this.$stage.css('border-right-width'),\r\n      borderTop: this.$stage.css('border-top-width'),\r\n      borderBottom: this.$stage.css('border-bottom-width')\r\n    };\r\n\r\n    // Modal size should calc with stage css value\r\n    let modalWidth = img.width +\r\n      getNumFromCSSValue(stageCSS.left) +\r\n      getNumFromCSSValue(stageCSS.right) +\r\n      getNumFromCSSValue(stageCSS.borderLeft) +\r\n      getNumFromCSSValue(stageCSS.borderRight),\r\n      modalHeight = img.height +\r\n        getNumFromCSSValue(stageCSS.top) +\r\n        getNumFromCSSValue(stageCSS.bottom) +\r\n        getNumFromCSSValue(stageCSS.borderTop) +\r\n        getNumFromCSSValue(stageCSS.borderBottom);\r\n\r\n    let gapThreshold = (this.options.gapThreshold > 0 ? this.options.gapThreshold : 0) + 1,\r\n      // modal scale to window\r\n      scale = Math.min(\r\n        winWidth / (modalWidth * gapThreshold),\r\n        winHeight / (modalHeight * gapThreshold),\r\n        1\r\n      );\r\n\r\n    let minWidth = Math.max(modalWidth * scale, this.options.modalWidth),\r\n      minHeight = Math.max(modalHeight * scale, this.options.modalHeight);\r\n\r\n    minWidth = this.options.fixedModalSize\r\n      ? this.options.modalWidth\r\n      : Math.round(minWidth);\r\n    minHeight = this.options.fixedModalSize\r\n      ? this.options.modalHeight\r\n      : Math.round(minHeight);\r\n\r\n    let modalCSSObj = {\r\n      width: minWidth + 'px',\r\n      height: minHeight + 'px',\r\n      left: (winWidth - minWidth) / 2 + scrollLeft + 'px',\r\n      top: (winHeight - minHeight) / 2 + scrollTop + 'px'\r\n    };\r\n\r\n    // Add modal init animation\r\n    if (this.options.initAnimation) {\r\n      this.$photoviewer.animate(modalCSSObj, () => {\r\n        this.setImageSize(img);\r\n      }, 300, 'ease-in-out');\r\n    } else {\r\n      this.$photoviewer.css(modalCSSObj);\r\n      this.setImageSize(img);\r\n    }\r\n\r\n    this.isOpened = true;\r\n\r\n  }\r\n\r\n  getImageScaleToStage(stageWidth, stageHeight) {\r\n\r\n    var scale = 1;\r\n\r\n    if (!this.isRotated) {\r\n      scale = Math.min(stageWidth / this.img.width, stageHeight / this.img.height, 1);\r\n    } else {\r\n      scale = Math.min(stageWidth / this.img.height, stageHeight / this.img.width, 1);\r\n    }\r\n\r\n    return scale;\r\n  }\r\n\r\n  setImageSize(img) {\r\n\r\n    let stageData = {\r\n      w: this.$stage.width(),\r\n      h: this.$stage.height()\r\n    };\r\n\r\n    let scale = this.getImageScaleToStage(\r\n      stageData.w,\r\n      stageData.h\r\n    );\r\n\r\n    this.$image.css({\r\n      width: Math.ceil(img.width * scale) + 'px',\r\n      height: Math.ceil(img.height * scale) + 'px',\r\n      left: (stageData.w - Math.ceil(img.width * scale)) / 2 + 'px',\r\n      top: (stageData.h - Math.ceil(img.height * scale)) / 2 + 'px'\r\n    });\r\n\r\n    // Store image initial data\r\n    $.extend(this.imageData, {\r\n      initWidth: img.width * scale,\r\n      initHeight: img.height * scale,\r\n      initLeft: (stageData.w - img.width * scale) / 2,\r\n      initTop: (stageData.h - img.height * scale) / 2,\r\n      width: img.width * scale,\r\n      height: img.height * scale,\r\n      left: (stageData.w - img.width * scale) / 2,\r\n      top: (stageData.h - img.height * scale) / 2\r\n    });\r\n\r\n    // Set grab cursor\r\n    setGrabCursor(\r\n      {\r\n        w: this.$image.width(),\r\n        h: this.$image.height()\r\n      },\r\n      {\r\n        w: this.$stage.width(),\r\n        h: this.$stage.height()\r\n      },\r\n      this.$stage,\r\n      this.isRotated\r\n    );\r\n\r\n    this.$stage.removeClass('stage-ready');\r\n    this.$image.removeClass('image-ready');\r\n\r\n    // loader end\r\n    this.$photoviewer.find(CLASS_NS + '-loader').remove();\r\n\r\n    // Add image init animation\r\n    if (\r\n      this.options.initAnimation\r\n      && !this.options.progressiveLoading\r\n      && this.$image.css('display') === 'none'\r\n    ) {\r\n      this.$image.fadeIn();\r\n    }\r\n\r\n  }\r\n\r\n  loadImg(imgSrc, fn, err) {\r\n\r\n    let loaderHTML = `<div class=\"${NS}-loader\"></div>`;\r\n\r\n    // loader start\r\n    this.$photoviewer.append(loaderHTML);\r\n\r\n    // Add class before image loaded\r\n    this.$stage.addClass('stage-ready');\r\n    this.$image.addClass('image-ready');\r\n\r\n    // Reset image\r\n    this.$image.removeAttr('style').attr('src', '');\r\n    this.isRotated = false;\r\n    this.rotateAngle = 0;\r\n\r\n    if (this.options.initAnimation && !this.options.progressiveLoading) {\r\n      this.$image.hide();\r\n    }\r\n\r\n    this.$image.attr('src', imgSrc);\r\n\r\n    preloadImg(imgSrc, (img) => {\r\n      // Store HTMLImageElement\r\n      this.img = img;\r\n\r\n      // Store original data\r\n      this.imageData = {\r\n        originalWidth: img.width,\r\n        originalHeight: img.height\r\n      };\r\n\r\n      if (this.isMaximized || (this.isOpened && this.options.fixedModalPos)) {\r\n        this.setImageSize(img);\r\n      } else {\r\n        this.setModalSize(img);\r\n      }\r\n\r\n      // callback of image loaded successfully\r\n      if (fn) {\r\n        fn.call();\r\n      }\r\n\r\n    }, () => {\r\n      // loader end\r\n      this.$photoviewer.find(CLASS_NS + '-loader').remove();\r\n\r\n      // callback of image loading failed\r\n      if (err) {\r\n        err.call();\r\n      }\r\n    });\r\n\r\n    if (this.options.title) {\r\n      this.setImgTitle(imgSrc);\r\n    }\r\n\r\n  }\r\n\r\n  setImgTitle(url) {\r\n\r\n    let title = this.groupData[this.groupIndex].title\r\n      ? this.groupData[this.groupIndex].title\r\n      : getImageNameFromUrl(url);\r\n\r\n    this.$title.html(title);\r\n\r\n  }\r\n\r\n  jump(step) {\r\n\r\n    this._triggerHook('beforeChange', this.groupIndex);\r\n\r\n    this.groupIndex = this.groupIndex + step;\r\n\r\n    this.jumpTo(this.groupIndex);\r\n\r\n  }\r\n\r\n  jumpTo(index) {\r\n\r\n    index = index % this.groupData.length;\r\n\r\n    if (index >= 0) {\r\n      index = index % this.groupData.length;\r\n    } else if (index < 0) {\r\n      index = (this.groupData.length + index) % this.groupData.length;\r\n    }\r\n\r\n    this.groupIndex = index;\r\n\r\n    this.loadImg(this.groupData[index].src, () => {\r\n      this._triggerHook('changed', index);\r\n    }, () => {\r\n      this._triggerHook('changed', index);\r\n    });\r\n\r\n  }\r\n\r\n  wheel(e) {\r\n\r\n    e.preventDefault();\r\n\r\n    let delta = 1;\r\n\r\n    if (e.deltaY) {\r\n      delta = e.deltaY > 0 ? 1 : -1;\r\n    } else if (e.wheelDelta) {\r\n      delta = -e.wheelDelta / 120;\r\n    } else if (e.detail) {\r\n      delta = e.detail > 0 ? 1 : -1;\r\n    }\r\n\r\n    // ratio threshold\r\n    let ratio = -delta * this.options.ratioThreshold;\r\n\r\n    // mouse point position relative to stage\r\n    let pointer = {\r\n      x: e.clientX - this.$stage.offset().left + document.documentElement.scrollLeft,\r\n      y: e.clientY - this.$stage.offset().top + document.documentElement.scrollTop\r\n    };\r\n\r\n    this.zoom(ratio, pointer, e);\r\n\r\n  }\r\n\r\n  zoom(ratio, origin, e) {\r\n\r\n    // zoom out ratio & zoom in ratio\r\n    ratio = ratio < 0 ? (1 / (1 - ratio)) : (1 + ratio);\r\n\r\n    // image ratio\r\n    ratio = this.$image.width() / this.imageData.originalWidth * ratio;\r\n\r\n    // Fixed digital error\r\n    // if (ratio > 0.95 && ratio < 1.05) {\r\n    //   ratio = 1;\r\n    // }\r\n\r\n    if (ratio > this.options.maxRatio || ratio < this.options.minRatio) {\r\n      return;\r\n    }\r\n\r\n    this.zoomTo(ratio, origin, e);\r\n\r\n  }\r\n\r\n  zoomTo(ratio, origin, e) {\r\n\r\n    let $image = this.$image,\r\n      $stage = this.$stage,\r\n      imgData = {\r\n        w: this.imageData.width,\r\n        h: this.imageData.height,\r\n        x: this.imageData.left,\r\n        y: this.imageData.top\r\n      };\r\n\r\n    // image stage position\r\n    // We will use it to calc the relative position of image\r\n    let stageData = {\r\n      w: $stage.width(),\r\n      h: $stage.height(),\r\n      x: $stage.offset().left,\r\n      y: $stage.offset().top\r\n    };\r\n\r\n    let newWidth = this.imageData.originalWidth * ratio,\r\n      newHeight = this.imageData.originalHeight * ratio,\r\n      // Think about it for a while\r\n      newLeft = origin.x - (origin.x - imgData.x) / imgData.w * newWidth,\r\n      newTop = origin.y - (origin.y - imgData.y) / imgData.h * newHeight;\r\n\r\n    // δ is the difference between image new width and new height\r\n    let δ = !this.isRotated ? 0 : (newWidth - newHeight) / 2,\r\n      imgNewWidth = !this.isRotated ? newWidth : newHeight,\r\n      imgNewHeight = !this.isRotated ? newHeight : newWidth;\r\n\r\n    let offsetX = stageData.w - newWidth,\r\n      offsetY = stageData.h - newHeight;\r\n\r\n    // zoom out & zoom in condition\r\n    // It's important and it takes me a lot of time to get it\r\n    // The conditions with image rotate 90 degree drive me crazy alomst!\r\n    if (imgNewHeight <= stageData.h) {\r\n      newTop = (stageData.h - newHeight) / 2;\r\n    } else {\r\n      newTop = newTop > δ\r\n        ? δ\r\n        : (newTop > (offsetY - δ)\r\n          ? newTop\r\n          : (offsetY - δ));\r\n    }\r\n\r\n    if (imgNewWidth <= stageData.w) {\r\n      newLeft = (stageData.w - newWidth) / 2;\r\n    } else {\r\n      newLeft = newLeft > -δ\r\n        ? -δ\r\n        : (newLeft > (offsetX + δ)\r\n          ? newLeft\r\n          : (offsetX + δ));\r\n    }\r\n\r\n    // if the image scale get to the critical point\r\n    if (Math.abs(this.imageData.initWidth - newWidth) < this.imageData.initWidth * 0.05) {\r\n      this.setImageSize(this.img);\r\n    } else {\r\n      $image.css({\r\n        width: Math.round(newWidth) + 'px',\r\n        height: Math.round(newHeight) + 'px',\r\n        left: Math.round(newLeft) + 'px',\r\n        top: Math.round(newTop) + 'px'\r\n      });\r\n\r\n      // Set grab cursor\r\n      setGrabCursor(\r\n        {\r\n          w: Math.round(imgNewWidth),\r\n          h: Math.round(imgNewHeight)\r\n        },\r\n        {\r\n          w: stageData.w,\r\n          h: stageData.h\r\n        },\r\n        this.$stage\r\n      );\r\n    }\r\n\r\n\r\n    // Update image initial data\r\n    $.extend(this.imageData, {\r\n      width: newWidth,\r\n      height: newHeight,\r\n      left: newLeft,\r\n      top: newTop\r\n    });\r\n\r\n  }\r\n\r\n  rotate(angle) {\r\n\r\n    this.rotateAngle = this.rotateAngle + angle;\r\n\r\n    if ((this.rotateAngle / 90) % 2 === 0) {\r\n      this.isRotated = false;\r\n    } else {\r\n      this.isRotated = true;\r\n    }\r\n\r\n    this.rotateTo(this.rotateAngle);\r\n\r\n  }\r\n\r\n  rotateTo(angle) {\r\n\r\n    this.$image.css({\r\n      transform: 'rotate(' + angle + 'deg)'\r\n    });\r\n\r\n    this.setImageSize({\r\n      width: this.imageData.originalWidth,\r\n      height: this.imageData.originalHeight\r\n    });\r\n\r\n    // Remove grab cursor when rotate\r\n    this.$stage.removeClass('is-grab');\r\n\r\n  }\r\n\r\n  resize() {\r\n\r\n    let resizeHandler = throttle(() => {\r\n\r\n      if (this.isOpened) {\r\n        if (this.isMaximized) {\r\n          this.setImageSize({\r\n            width: this.imageData.originalWidth,\r\n            height: this.imageData.originalHeight\r\n          });\r\n        } else {\r\n          this.setModalSize({\r\n            width: this.imageData.originalWidth,\r\n            height: this.imageData.originalHeight\r\n          });\r\n        }\r\n      }\r\n\r\n    }, 500);\r\n\r\n    return resizeHandler;\r\n\r\n  }\r\n\r\n  maximize() {\r\n\r\n    if (!this.isMaximized) {\r\n      // Store modal data before maximize\r\n      this.modalData = {\r\n        width: this.$photoviewer.width(),\r\n        height: this.$photoviewer.height(),\r\n        left: this.$photoviewer.offset().left,\r\n        top: this.$photoviewer.offset().top\r\n      };\r\n\r\n      this.$photoviewer.addClass(NS + '-maximize');\r\n\r\n      this.$photoviewer.css({\r\n        width: '100%',\r\n        height: '100%',\r\n        left: 0,\r\n        top: 0\r\n      });\r\n\r\n      this.isMaximized = true;\r\n\r\n    } else {\r\n\r\n      this.$photoviewer.removeClass(NS + '-maximize');\r\n\r\n      this.$photoviewer.css({\r\n        width: this.modalData.width\r\n          ? this.modalData.width\r\n          : this.options.modalWidth,\r\n        height: this.modalData.height\r\n          ? this.modalData.height\r\n          : this.options.modalHeight,\r\n        left: this.modalData.left\r\n          ? this.modalData.left\r\n          : ($W.width() - this.options.modalWidth) / 2 + document.documentElement.scrollLeft,\r\n        top: this.modalData.top\r\n          ? this.modalData.top\r\n          : ($W.height() - this.options.modalHeight) / 2 + document.documentElement.scrollTop\r\n      });\r\n\r\n      this.isMaximized = false;\r\n    }\r\n\r\n    this.setImageSize({\r\n      width: this.imageData.originalWidth,\r\n      height: this.imageData.originalHeight\r\n    });\r\n\r\n  }\r\n\r\n  fullscreen() {\r\n\r\n    requestFullscreen(this.$photoviewer[0]);\r\n\r\n  }\r\n\r\n  keydown(e) {\r\n\r\n    if (!this.options.keyboard) {\r\n      return false;\r\n    }\r\n\r\n    let keyCode = e.keyCode || e.which || e.charCode,\r\n      ctrlKey = e.ctrlKey || e.metaKey,\r\n      altKey = e.altKey || e.metaKey;\r\n\r\n    switch (keyCode) {\r\n      // ←\r\n      case 37:\r\n        this.jump(-1);\r\n        break;\r\n      // →\r\n      case 39:\r\n        this.jump(1);\r\n        break;\r\n      // +\r\n      case 187:\r\n        this.zoom(\r\n          this.options.ratioThreshold * 3,\r\n          { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n          e\r\n        );\r\n        break;\r\n      // -\r\n      case 189:\r\n        this.zoom(\r\n          -this.options.ratioThreshold * 3,\r\n          { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n          e\r\n        );\r\n        break;\r\n      // + Firefox\r\n      case 61:\r\n        this.zoom(\r\n          this.options.ratioThreshold * 3,\r\n          { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n          e\r\n        );\r\n        break;\r\n      // - Firefox\r\n      case 173:\r\n        this.zoom(\r\n          -this.options.ratioThreshold * 3,\r\n          { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n          e\r\n        );\r\n        break;\r\n      // ctrl + alt + 0\r\n      case 48:\r\n        if (ctrlKey && altKey) {\r\n          this.zoomTo(\r\n            1,\r\n            { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n            e\r\n          );\r\n        }\r\n        break;\r\n      // ctrl + ,\r\n      case 188:\r\n        if (ctrlKey) {\r\n          this.rotate(-90);\r\n        }\r\n        break;\r\n      // ctrl + .\r\n      case 190:\r\n        if (ctrlKey) {\r\n          this.rotate(90);\r\n        }\r\n        break;\r\n      default:\r\n    }\r\n\r\n  }\r\n\r\n  addEvents() {\r\n\r\n    this.$close.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, (e) => {\r\n      this.close();\r\n    });\r\n\r\n    this.$stage.off(WHEEL_EVENT + EVENT_NS).on(WHEEL_EVENT + EVENT_NS, (e) => {\r\n      this.wheel(e);\r\n    });\r\n\r\n    this.$zoomIn.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, (e) => {\r\n      this.zoom(\r\n        this.options.ratioThreshold * 3,\r\n        { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n        e\r\n      );\r\n    });\r\n\r\n    this.$zoomOut.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, (e) => {\r\n      this.zoom(\r\n        -this.options.ratioThreshold * 3,\r\n        { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n        e\r\n      );\r\n    });\r\n\r\n    this.$actualSize.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, (e) => {\r\n      this.zoomTo(\r\n        1,\r\n        { x: this.$stage.width() / 2, y: this.$stage.height() / 2 },\r\n        e\r\n      );\r\n    });\r\n\r\n    this.$prev.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, () => {\r\n      this.jump(-1);\r\n    });\r\n\r\n    this.$fullscreen.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, () => {\r\n      this.fullscreen();\r\n    });\r\n\r\n    this.$next.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, () => {\r\n      this.jump(1);\r\n    });\r\n\r\n    this.$rotateLeft.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, () => {\r\n      this.rotate(-90);\r\n    });\r\n\r\n    this.$rotateRight.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, () => {\r\n      this.rotate(90);\r\n    });\r\n\r\n    this.$maximize.off(CLICK_EVENT + EVENT_NS).on(CLICK_EVENT + EVENT_NS, () => {\r\n      this.maximize();\r\n    });\r\n\r\n    $D.off(KEYDOWN_EVENT + EVENT_NS).on(KEYDOWN_EVENT + EVENT_NS, (e) => {\r\n      this.keydown(e);\r\n    });\r\n\r\n    $W.on(RESIZE_EVENT + EVENT_NS, this.resize());\r\n\r\n  }\r\n\r\n  _triggerHook(e, data) {\r\n    if (this.options.callbacks[e]) {\r\n      this.options.callbacks[e].apply(this, $.isArray(data) ? data : [data]);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Add methods to PhotoViewer\r\n */\r\n$.extend(PhotoViewer.prototype, draggable, movable, resizable);\r\n\r\n/**\r\n * Add PhotoViewer to globle\r\n */\r\nwindow.PhotoViewer = PhotoViewer;\r\n\r\nexport default PhotoViewer;\r\n"],"names":["document","type","children","parent","add","dasherize","css","offset","attr","prop","val","wrap","draggable","resizable","movable","keyboard","title","modalWidth","modalHeight","fixedContent","fixedModalSize","initMaximized","gapThreshold","ratioThreshold","minRatio","maxRatio","headToolbar","footToolbar","icons","minimize","maximize","close","zoomIn","zoomOut","prev","next","fullscreen","actualSize","rotateLeft","rotateRight","i18n","multiInstances","initAnimation","fixedModalPos","zIndex","dragHandle","callbacks","beforeOpen","$","noop","opened","beforeClose","closed","beforeChange","changed","index","progressiveLoading","throttle","fn","delay","timer","context","args","arguments","clearTimeout","setTimeout","apply","preloadImg","src","success","error","img","Image","onload","onerror","requestFullscreen","element","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","getImageNameFromUrl","url","reg","txt","replace","getNumFromCSSValue","value","arr","match","num","parseFloat","hasScrollbar","body","scrollHeight","window","innerHeight","documentElement","clientHeight","getScrollbarWidth","scrollDiv","createElement","style","cssText","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","setGrabCursor","imageData","stageData","stage","isRotated","imageWidth","w","h","imageHeight","addClass","removeClass","supportTouch","DocumentTouch","$W","$D","CLICK_EVENT","RESIZE_EVENT","KEYDOWN_EVENT","WHEEL_EVENT","TOUCH_START_EVENT","TOUCH_MOVE_EVENT","TOUCH_END_EVENT","NS","CLASS_NS","EVENT_NS","PUBLIC_VARS","isMoving","isResizing","defaults","modal","dragCancel","isDragging","startX","startY","left","top","dragStart","e","event","options","elemCancel","target","closest","length","targetTouches","pageX","clientX","pageY","clientY","on","dragMove","dragEnd","preventDefault","isMaximized","endX","endY","relativeX","relativeY","off","ELEMS_WITH_GRABBING_CURSOR","image","widthDiff","heightDiff","δ","width","height","stageWidth","stageHeight","position","hasClass","newLeft","newTop","extend","ELEMS_WITH_RESIZE_CURSOR","minWidth","minHeight","resizableHandleE","resizableHandleW","resizableHandleS","resizableHandleN","resizableHandleSE","resizableHandleSW","resizableHandleNE","resizableHandleNW","resizableHandles","append","modalData","l","t","imgWidth","imgHeight","direction","getModalOpts","dir","offsetX","offsetY","modalLeft","modalTop","opts","Math","max","getImageOpts","widthDiff2","heightDiff2","imgLeft","imgTop","imgLeft2","imgTop2","modalOpts","imageOpts","isDoResize","scale","getImageScaleToStage","initWidth","initHeight","initLeft","initTop","each","handle","PhotoViewer","items","el","DEFAULTS","isArray","$el","isOpened","rotateAngle","init","groupData","groupIndex","imgSrc","open","loadImg","$photoviewer","$stage","$image","_creatBtns","toolbar","btns","btnsStr","item","_creatTitle","_creatDOM","btnsTpl","photoviewerHTML","build","$header","find","$headToolbar","$footer","$footToolbar","$title","$close","$maximize","$minimize","$zoomIn","$zoomOut","$actualSize","$fullscreen","$rotateLeft","$rotateRight","$prev","$next","eq","remove","_triggerHook","addEvents","setModalPos","zeroModal","winWidth","winHeight","scrollLeft","scrollTop","setModalSize","stageCSS","right","bottom","borderLeft","borderRight","borderTop","borderBottom","min","round","modalCSSObj","animate","setImageSize","ceil","fadeIn","err","loaderHTML","removeAttr","hide","originalWidth","originalHeight","call","setImgTitle","html","jump","step","jumpTo","wheel","delta","deltaY","wheelDelta","detail","ratio","pointer","x","y","zoom","origin","zoomTo","imgData","newWidth","newHeight","imgNewWidth","imgNewHeight","abs","rotate","angle","rotateTo","transform","resize","resizeHandler","keydown","keyCode","which","charCode","ctrlKey","metaKey","altKey","data","prototype"],"mappings":"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"}